{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/account/account.component.ts","./src/app/account/account.component.html","./src/app/account/account.module.ts","./src/app/account/orders/orders.component.ts","./src/app/account/orders/orders.component.html","./src/app/account/orders/shared/order.service.ts","./src/app/account/profile/profile.component.ts","./src/app/account/profile/profile.component.html","./src/app/account/register-login/register-login.component.ts","./src/app/account/register-login/register-login.component.html","./src/app/account/shared/auth.service.ts","./src/app/admin/add-edit/add-edit.component.ts","./src/app/admin/add-edit/add-edit.component.html","./src/app/admin/admin.module.ts","./src/app/admin/shared/admin.guard.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/cart/cart.component.ts","./src/app/cart/cart.component.html","./src/app/cart/shared/cart.service.ts","./src/app/checkout/address/address.component.ts","./src/app/checkout/address/address.component.html","./src/app/checkout/checkout.component.ts","./src/app/checkout/checkout.component.html","./src/app/checkout/checkout.module.ts","./src/app/checkout/complete/complete.component.ts","./src/app/checkout/complete/complete.component.html","./src/app/checkout/footer/footer.component.ts","./src/app/checkout/footer/footer.component.html","./src/app/checkout/payment/payment.component.ts","./src/app/checkout/payment/payment.component.html","./src/app/checkout/review/review.component.ts","./src/app/checkout/review/review.component.html","./src/app/checkout/shared/checkout.service.ts","./src/app/checkout/shipping/shipping.component.ts","./src/app/checkout/shipping/shipping.component.html","./src/app/checkout/sidebar/sidebar.component.ts","./src/app/checkout/sidebar/sidebar.component.html","./src/app/core/content/content.component.ts","./src/app/core/content/content.component.html","./src/app/core/content/footer/footer.component.ts","./src/app/core/content/footer/footer.component.html","./src/app/core/core.module.ts","./src/app/core/header/header.component.ts","./src/app/core/header/header.component.html","./src/app/core/header/navigation-main/navigation-main.component.ts","./src/app/core/header/navigation-main/navigation-main.component.html","./src/app/core/header/search/search.component.ts","./src/app/core/header/search/search.component.html","./src/app/core/header/toolbar/cart/cart.component.ts","./src/app/core/header/toolbar/cart/cart.component.html","./src/app/core/home/home.component.ts","./src/app/core/home/home.component.html","./src/app/core/home/main-slider/main-slider.component.ts","./src/app/core/home/main-slider/main-slider.component.html","./src/app/core/home/product-widget/product-widget.component.ts","./src/app/core/home/product-widget/product-widget.component.html","./src/app/core/home/promo/promo.component.ts","./src/app/core/home/promo/promo.component.html","./src/app/core/module-import-guard.ts","./src/app/core/navigation-off-canvas/navigation-off-canvas.component.html","./src/app/core/navigation-off-canvas/navigation-off-canvas.component.ts","./src/app/core/page-title/page-title.component.ts","./src/app/core/page-title/page-title.component.html","./src/app/core/shared/offcanvas.service.ts","./src/app/core/shared/promo.service.ts","./src/app/core/top-bar/top-bar.component.ts","./src/app/core/top-bar/top-bar.component.html","./src/app/messages/message.service.ts","./src/app/models/cart-item.model.ts","./src/app/models/customer.model.ts","./src/app/models/order.model.ts","./src/app/models/product.model.ts","./src/app/models/user.model.ts","./src/app/page-not-found/page-not-found.component.ts","./src/app/page-not-found/page-not-found.component.html","./src/app/pager/pager.service.ts","./src/app/products/product-detail/product-detail.component.ts","./src/app/products/product-detail/product-detail.component.html","./src/app/products/products-list-item/products-list-item.component.ts","./src/app/products/products-list-item/products-list-item.component.html","./src/app/products/products-list/products-list.component.ts","./src/app/products/products-list/products-list.component.html","./src/app/products/products.module.ts","./src/app/products/shared/file-upload.service.ts","./src/app/products/shared/product-rating.service.ts","./src/app/products/shared/product.service.ts","./src/app/products/shared/products-cache.service.ts","./src/app/products/shared/productsUrl.ts","./src/app/products/shared/rating-stars/rating-stars.component.ts","./src/app/products/shared/rating-stars/rating-stars.component.html","./src/app/products/shared/sort.pipe.ts","./src/app/products/shared/ui.service.ts","./src/app/shared/price/price.component.ts","./src/app/shared/price/price.component.html","./src/app/shared/shared.module.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\n\r\nimport { AuthService } from './shared/auth.service';\r\nimport { Router } from '@angular/router';\r\nimport { OrderService } from './orders/shared/order.service';\r\n\r\nimport { User } from '../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-account',\r\n  templateUrl: './account.component.html',\r\n  styleUrls: ['./account.component.scss']\r\n})\r\nexport class AccountComponent {\r\n  public user: User;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    public router: Router,\r\n    public orderService: OrderService\r\n  ) {}\r\n}\r\n","<app-page-title [title]=\"router.url === '/account/profile' ? 'My Profile' : 'My Orders'\" [children]=\"[{title: 'Account', link: '/account'}, {title: router.url === '/account/profile' ? 'My Profile' : 'My Orders'}]\"></app-page-title>\r\n\r\n<!-- Page Content-->\r\n<div class=\"container padding-bottom-3x mb-2\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-4\">\r\n      <aside class=\"user-info-wrapper\">\r\n        <div class=\"user-cover\" style=\"background-image: url(img/user-cover-img.jpg);\">\r\n        </div>\r\n        <div class=\"user-info\">\r\n          <!-- <div class=\"user-avatar\">\r\n            <a class=\"edit-avatar\" href=\"#\"></a>\r\n            <img src=\"img/account/user-ava.jpg\" alt=\"User\">\r\n          </div> -->\r\n          <div *ngIf=\"user\" class=\"user-data\">\r\n            <h4>{{ user.firstName }} {{ user.lastName }}</h4>\r\n            <span>{{ user.email }} <span *ngIf=\"user.roles.admin\">(Admin)</span></span>\r\n          </div>\r\n        </div>\r\n      </aside>\r\n      <nav class=\"list-group\">\r\n        <a class=\"list-group-item\" routerLinkActive=\"active\" routerLink=\"/account/profile\">\r\n          <i class=\"icon-head\"></i>Profile\r\n        </a>\r\n\r\n        <a class=\"list-group-item with-badge\" routerLinkActive=\"active\" routerLink=\"/account/orders\" href=\"\">\r\n          <i class=\"icon-bag\"></i>Orders\r\n        </a>\r\n      </nav>\r\n    </div>\r\n    <div class=\"col-lg-8\">\r\n      <router-outlet></router-outlet>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\nimport { ProfileComponent } from './profile/profile.component';\r\nimport { OrdersComponent } from './orders/orders.component';\r\nimport { RegisterLoginComponent } from './register-login/register-login.component';\r\nimport { AccountComponent } from './account.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AccountComponent,\r\n        ProfileComponent,\r\n        OrdersComponent,\r\n        RegisterLoginComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        SharedModule,\r\n        FormsModule,\r\n        ReactiveFormsModule\r\n    ],\r\n    exports: [\r\n        SharedModule\r\n    ]\r\n})\r\nexport class AccountModule {}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport {\r\n  CommonModule,\r\n  DatePipe,\r\n  DecimalPipe,\r\n  CurrencyPipe\r\n} from '@angular/common';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { OrderService } from './shared/order.service';\r\n\r\nimport { Order } from '../../models/order.model';\r\n\r\n@Component({\r\n  selector: 'app-orders',\r\n  templateUrl: './orders.component.html',\r\n  styleUrls: ['./orders.component.scss']\r\n})\r\nexport class OrdersComponent implements OnInit, OnDestroy {\r\n  public orders: Order[];\r\n  private ordersSubscription: Subscription;\r\n\r\n  constructor(public orderService: OrderService) {}\r\n\r\n  ngOnInit() {\r\n    this.ordersSubscription = this.orderService\r\n      .getOrders()\r\n      .subscribe((orders: Order[]) => {\r\n        if (orders) {\r\n          this.orders = orders.reverse();\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.ordersSubscription.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"padding-top-2x mt-2 hidden-lg-up\">\r\n</div>\r\n<div class=\"table-responsive\">\r\n  <table class=\"table table-hover margin-bottom-none\">\r\n    <thead>\r\n      <tr>\r\n        <th>Order #</th>\r\n        <th>Date Purchased</th>\r\n        <th>Status</th>\r\n        <th>Total</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n\r\n      <tr *ngFor=\"let order of orders\">\r\n        <td>\r\n          <a class=\"text-medium navi-link\" href=\"#\" data-toggle=\"modal\" data-target=\"#orderDetails\">{{order.number}}</a>\r\n        </td>\r\n        <td>{{order.date | date:'mediumDate'}}</td>\r\n        <td>\r\n          <span class=\"text-info\">{{order.status || 'In Progress'}}</span>\r\n        </td>\r\n        <td>\r\n          <span class=\"text-medium\">{{order.total | currency}}</span>\r\n        </td>\r\n      </tr>\r\n\r\n    </tbody>\r\n  </table>\r\n</div>\r\n<hr>\r\n","import { Injectable, OnInit } from '@angular/core';\r\nimport { Observable ,  of ,  from as fromPromise } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { AngularFireDatabase } from '@angular/fire/compat/database';\r\n\r\nimport { Order } from '../../../models/order.model';\r\n\r\nimport { MessageService } from '../../../messages/message.service';\r\nimport { AuthService } from '../../shared/auth.service';\r\n\r\n@Injectable()\r\nexport class OrderService {\r\n  constructor(\r\n    private messageService: MessageService,\r\n    private authService: AuthService,\r\n    private store: AngularFireDatabase\r\n  ) {}\r\n\r\n  public getOrders() {\r\n    return this.authService.user\r\n      .pipe(\r\n        switchMap((user) => {\r\n          if (user) {\r\n            const remoteUserOrders = `/users/${user.uid}/orders`;\r\n            return this.store.list(remoteUserOrders).valueChanges();\r\n          } else {\r\n            return of(null);\r\n          }\r\n        })\r\n      );\r\n  }\r\n\r\n  public addUserOrder(order: Order, total: number, user: string) {\r\n    const orderWithMetaData = {\r\n      ...order,\r\n      ...this.constructOrderMetaData(order),\r\n      total\r\n    };\r\n\r\n    const databaseOperation = this.store\r\n      .list(`users/${user}/orders`)\r\n      .push(orderWithMetaData)\r\n      .then((response) => response, (error) => error);\r\n\r\n    return fromPromise(databaseOperation);\r\n  }\r\n\r\n  public addAnonymousOrder(order: Order, total: number) {\r\n    const orderWithMetaData = {\r\n      ...order,\r\n      ...this.constructOrderMetaData(order),\r\n      total\r\n    };\r\n\r\n    const databaseOperation = this.store\r\n      .list('orders')\r\n      .push(orderWithMetaData)\r\n      .then((response) => response, (error) => error);\r\n\r\n    return fromPromise(databaseOperation);\r\n  }\r\n\r\n  private constructOrderMetaData(order: Order) {\r\n    return {\r\n      number: (Math.random() * 10000000000).toString().split('.')[0],\r\n      date: new Date().toString(),\r\n      status: 'In Progress'\r\n    };\r\n  }\r\n\r\n  private handleError<T>(operation = 'operation', result?: T) {\r\n    return (error: any): Observable<T> => {\r\n      // TODO: send the error to remote logging infrastructure\r\n      console.error(error); // log to console instead\r\n\r\n      // TODO: better job of transforming error for user consumption\r\n      this.messageService.addError(`${operation} failed: ${error.message}`);\r\n\r\n      // Let the app keep running by returning an empty result.\r\n      return of(result as T);\r\n    };\r\n  }\r\n}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { UntypedFormGroup, Validators, UntypedFormControl } from '@angular/forms';\r\n\r\nimport { AuthService } from '../shared/auth.service';\r\n\r\nimport { User } from '../../models/user.model';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.scss']\r\n})\r\nexport class ProfileComponent implements OnInit, OnDestroy {\r\n  private authSubscription: Subscription;\r\n  public formProfile: UntypedFormGroup;\r\n  public profileErrors: string;\r\n  private user: User;\r\n\r\n  constructor(private authService: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.initFormGroup();\r\n    this.authSubscription = this.authService.user.subscribe(\r\n      user => {\r\n        if (user) {\r\n          this.formProfile.patchValue({\r\n            firstName: user.firstName,\r\n            lastName: user.lastName,\r\n            email: user.email\r\n          });\r\n          this.user = user;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  private initFormGroup() {\r\n    this.formProfile = new UntypedFormGroup({\r\n      firstName: new UntypedFormControl(null, Validators.required),\r\n      lastName: new UntypedFormControl(null, Validators.required),\r\n      email: new UntypedFormControl(null, Validators.email),\r\n      password: new UntypedFormControl(null),\r\n      confirmPassword: new UntypedFormControl(null),\r\n    });\r\n  }\r\n\r\n  public onSubmit() {\r\n\r\n    // Update Email\r\n    if (this.user.email !== this.formProfile.value.email) {\r\n      this.authService.updateEmail(this.formProfile.value.email)\r\n      .catch(\r\n        error => {\r\n          this.profileErrors = error.message;\r\n          this.formProfile.patchValue({ email: this.user.email });\r\n        }\r\n      );\r\n    }\r\n\r\n    // Update Profile (Firstname, Lastname)\r\n    if (this.user.firstName !== this.formProfile.value.firstName || this.user.lastName !== this.formProfile.value.lastName) {\r\n      this.authService.updateProfile(this.formProfile.value);\r\n    }\r\n\r\n    // Update password\r\n    if (this.formProfile.value.password && this.formProfile.value.confirmPassword\r\n      && (this.formProfile.value.password === this.formProfile.value.confirmPassword)) {\r\n      this.authService.updatePassword(this.formProfile.value.password)\r\n      .catch(\r\n        error => {\r\n          this.profileErrors = error.message;\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.authSubscription.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"padding-top-2x mt-2 hidden-lg-up\">\r\n</div>\r\n<form class=\"row\" [formGroup]=\"formProfile\" (ngSubmit)=\"onSubmit()\">\r\n  <div class=\"col-md-6\">\r\n    <div class=\"form-group\">\r\n      <label for=\"account-email\">E-mail Address</label>\r\n      <input class=\"form-control\" type=\"email\" id=\"account-email\" formControlName=\"email\">\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-6\"></div>\r\n  <div class=\"col-md-6\">\r\n    <div class=\"form-group\" [ngClass]=\"{'has-danger': formProfile.get('firstName').invalid && formProfile.get('firstName').touched}\">\r\n      <label for=\"account-fn\">First Name</label>\r\n      <input class=\"form-control\" type=\"text\" id=\"account-fn\" formControlName=\"firstName\">\r\n      <div class=\"form-control-feedback\" *ngIf=\"formProfile.get('firstName').invalid && formProfile.get('firstName').touched\">Please enter your firstname!</div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-6\">\r\n    <div class=\"form-group\" [ngClass]=\"{'has-danger': formProfile.get('lastName').invalid && formProfile.get('lastName').touched}\">\r\n      <label for=\"account-ln\">Last Name</label>\r\n      <input class=\"form-control\" type=\"text\" id=\"account-ln\" formControlName=\"lastName\">\r\n      <div class=\"form-control-feedback\" *ngIf=\"formProfile.get('lastName').invalid && formProfile.get('lastName').touched\">Please enter your lastname!</div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-6\">\r\n    <div class=\"form-group\">\r\n      <label for=\"account-pass\">New Password</label>\r\n      <input class=\"form-control\" type=\"password\" formControlName=\"password\" id=\"account-pass\">\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-6\">\r\n    <div class=\"form-group\">\r\n      <label for=\"account-confirm-pass\">Confirm Password</label>\r\n      <input class=\"form-control\" type=\"password\" formControlName=\"confirmPassword\" id=\"account-confirm-pass\">\r\n    </div>\r\n  </div>\r\n  <div class=\"col-12\">\r\n    <hr class=\"mt-2 mb-3\">\r\n    <div class=\"form-group has-danger\">\r\n      <div class=\"form-control-feedback\">\r\n        {{ profileErrors }}\r\n      </div>\r\n    </div>\r\n    <div class=\"text-right\">\r\n      <button class=\"btn btn-primary margin-right-none\" type=\"submit\" [disabled]=\"!formProfile.valid\">Update Profile</button>\r\n    </div>\r\n  </div>\r\n</form>\r\n<!-- <p>Form value: {{ formProfile.value | json }}</p> -->\r\n","import { Component, OnInit, ViewChild, OnChanges } from '@angular/core';\r\nimport {\r\n  UntypedFormGroup,\r\n  ReactiveFormsModule,\r\n  UntypedFormControl,\r\n  Validators\r\n} from '@angular/forms';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { MessageService } from '../../messages/message.service';\r\nimport { AuthService } from '../shared/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-register-login',\r\n  templateUrl: './register-login.component.html',\r\n  styleUrls: ['./register-login.component.scss']\r\n})\r\nexport class RegisterLoginComponent implements OnInit {\r\n  public loginForm: UntypedFormGroup;\r\n  public registerForm: UntypedFormGroup;\r\n  public registerErrors: string;\r\n\r\n  constructor(\r\n    private authenticationService: AuthService,\r\n    private router: Router,\r\n    private messageService: MessageService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.initLoginForm();\r\n    this.initRegisterForm();\r\n  }\r\n\r\n  private initLoginForm() {\r\n    this.loginForm = new UntypedFormGroup({\r\n      email: new UntypedFormControl(null, [Validators.required, Validators.email]),\r\n      password: new UntypedFormControl(null, Validators.required)\r\n    });\r\n  }\r\n\r\n  private initRegisterForm() {\r\n    this.registerForm = new UntypedFormGroup({\r\n      email: new UntypedFormControl(null, [Validators.required, Validators.email]),\r\n      password: new UntypedFormControl(null, Validators.required),\r\n      confirmPassword: new UntypedFormControl(null, Validators.required)\r\n    });\r\n  }\r\n\r\n  public onRegister() {\r\n    if (this.registerForm.value.password !== this.registerForm.value.confirmPassword) {\r\n      this.registerErrors = 'Passwords don\\'t match!';\r\n      this.registerForm.controls.password.setErrors({ password: true });\r\n      this.registerForm.controls.confirmPassword.setErrors({ confirmPassword: true });\r\n    } else {\r\n      this.authenticationService.emailSignUp(this.registerForm.value.email, this.registerForm.value.password)\r\n      .then(\r\n        () => {\r\n          this.messageService.add('Account created successfully. Please login with your new credentials!');\r\n          this.loginForm.setValue({ email: this.registerForm.value.email, password: ''});\r\n          this.initRegisterForm();\r\n        },\r\n        (error) => {\r\n          this.registerErrors = error.message;\r\n          if (error.code === 'auth/weak-password') {\r\n            this.registerForm.controls.password.setErrors({ password: true });\r\n            this.registerForm.controls.confirmPassword.setErrors({ confirmPassword: true });\r\n          }\r\n          if (error.code === 'auth/email-already-in-use') {\r\n            this.registerForm.controls.email.setErrors({ email: true });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  public onLogin() {\r\n    this.authenticationService\r\n      .emailLogin(this.loginForm.value.email, this.loginForm.value.password)\r\n      .then(\r\n        () => {\r\n          this.messageService.add('Login successful!');\r\n          this.router.navigate(['/home']);\r\n        },\r\n        (error) => {\r\n          if (error.code === 'auth/user-not-found') {\r\n            this.loginForm.controls.email.setErrors({ email: true });\r\n          }\r\n          if (error.code === 'auth/wrong-password') {\r\n            this.loginForm.controls.password.setErrors({ password: true });\r\n          }\r\n        }\r\n      );\r\n  }\r\n}\r\n","  <app-page-title title=\"Login / Register Account\" [children]=\"[{title: 'Account', link: '/account'}, {title: 'Login / Register'}]\"></app-page-title>\r\n\r\n  <!-- Page Content-->\r\n  <div class=\"container padding-bottom-3x mb-2\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <form class=\"login-box\" [formGroup]=\"loginForm\" (ngSubmit)=\"onLogin()\">\r\n\r\n          <!-- <div class=\"row margin-bottom-1x\">\r\n            <div class=\"col-xl-4 col-md-6 col-sm-4\">\r\n              <a class=\"btn btn-sm btn-block facebook-btn\" href=\"#\">\r\n                <i class=\"socicon-facebook\"></i>&nbsp;Facebook login</a>\r\n            </div>\r\n            <div class=\"col-xl-4 col-md-6 col-sm-4\">\r\n              <a class=\"btn btn-sm btn-block twitter-btn\" href=\"#\">\r\n                <i class=\"socicon-twitter\"></i>&nbsp;Twitter login</a>\r\n            </div>\r\n            <div class=\"col-xl-4 col-md-6 col-sm-4\">\r\n              <a class=\"btn btn-sm btn-block google-btn\" href=\"#\">\r\n                <i class=\"socicon-googleplus\"></i>&nbsp;Google+ login</a>\r\n            </div>\r\n          </div> -->\r\n\r\n          <h3 class=\"margin-bottom-1x\">Login</h3>\r\n          <div class=\"form-group input-group\" [ngClass]=\"{'has-danger': !loginForm.get('email').valid && loginForm.get('email').touched}\">\r\n            <input class=\"form-control\" formControlName=\"email\" type=\"email\" placeholder=\"Email\" required=\"\">\r\n            <span class=\"input-group-addon\">\r\n              <i class=\"icon-mail\"></i>\r\n            </span>\r\n            <div *ngIf=\"!loginForm.get('email').valid && loginForm.get('email').touched\" class=\"form-control-feedback\">\r\n              Be sure to enter a valid, existing Email.\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group input-group\" [ngClass]=\"{'has-danger': !loginForm.get('password').valid && loginForm.get('password').touched}\">\r\n            <input class=\"form-control\" formControlName=\"password\" type=\"password\" placeholder=\"Password\" required=\"\">\r\n            <span class=\"input-group-addon\">\r\n              <i class=\"icon-lock\"></i>\r\n            </span>\r\n            <div *ngIf=\"!loginForm.get('password').valid && loginForm.get('password').touched\" class=\"form-control-feedback\">\r\n              The entered password seems to be wrong..\r\n            </div>\r\n          </div>\r\n\r\n          <!-- <div class=\"d-flex flex-wrap justify-content-between padding-bottom-1x\">\r\n            <a class=\"navi-link\" href=\"account-password-recovery.html\">Forgot password?</a>\r\n          </div> -->\r\n\r\n          <div class=\"text-center text-sm-right\">\r\n            <button [disabled]=\"!loginForm.valid\"class=\"btn btn-primary margin-bottom-none\" type=\"submit\">Login</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div class=\"col-md-6\">\r\n        <div class=\"padding-top-3x hidden-md-up\"></div>\r\n        <h3 class=\"margin-bottom-1x\">No Account? Register</h3>\r\n        <p>Registration takes less than a minute but gives you full control over your orders.</p>\r\n        <form [formGroup]=\"registerForm\" class=\"row\" (ngSubmit)=\"onRegister()\">\r\n\r\n          <!-- <div class=\"col-sm-6\">\r\n            <div class=\"form-group\">\r\n              <label for=\"reg-fn\">First Name</label>\r\n              <input class=\"form-control\" formControlName=\"firstName\" type=\"text\" id=\"reg-fn\" required=\"\">\r\n            </div>\r\n          </div> -->\r\n\r\n          <!-- <div class=\"col-sm-6\">\r\n            <div class=\"form-group\">\r\n              <label for=\"reg-ln\">Last Name</label>\r\n              <input class=\"form-control\" formControlName=\"lastName\" type=\"text\" id=\"reg-ln\" required=\"\">\r\n            </div>\r\n          </div> -->\r\n\r\n          <div class=\"col-sm-12\">\r\n            <div class=\"form-group\" [ngClass]=\"{'has-danger': !registerForm.get('email').valid && registerForm.get('email').touched}\">\r\n              <label for=\"reg-email\">E-mail Address</label>\r\n              <input class=\"form-control\" formControlName=\"email\" type=\"email\" id=\"reg-email\" required>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- <div class=\"col-sm-6\">\r\n            <div class=\"form-group\">\r\n              <label for=\"reg-phone\">Phone Number</label>\r\n              <input class=\"form-control\" formControlName=\"phoneNumber\" type=\"text\" id=\"reg-phone\" required>\r\n            </div>\r\n          </div> -->\r\n\r\n            <div class=\"col-sm-6\">\r\n              <div class=\"form-group\" [ngClass]=\"{'has-danger': !registerForm.get('password').valid && registerForm.get('password').touched}\">\r\n                <label for=\"reg-pass\">Password</label>\r\n                <input class=\"form-control\" formControlName=\"password\" type=\"password\" id=\"reg-pass\" required>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n              <div class=\"form-group\" [ngClass]=\"{'has-danger': !registerForm.get('confirmPassword').valid && registerForm.get('confirmPassword').touched}\">\r\n                <label for=\"reg-pass-confirm\">Confirm Password</label>\r\n                <input class=\"form-control\" formControlName=\"confirmPassword\" type=\"password\" id=\"reg-pass-confirm\" required>\r\n              </div>\r\n            </div>\r\n\r\n          <div class=\"col-12 text-center text-sm-right\">\r\n\r\n            <div class=\"form-group has-danger\">\r\n              <div class=\"form-control-feedback\">\r\n                {{ registerErrors }}\r\n              </div>\r\n            </div>\r\n\r\n            <button [disabled]=\"!registerForm.valid\" class=\"btn btn-primary margin-bottom-none\" type=\"submit\">Register</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/compat/database';\r\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\r\nimport firebase from 'firebase/compat/app';\r\n\r\nimport { Observable ,  of } from 'rxjs';\r\nimport { take ,  takeUntil ,  switchMap, map } from 'rxjs/operators';\r\n\r\nimport { MessageService } from '../../messages/message.service';\r\nimport { User, Roles } from '../../models/user.model';\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n  public user: Observable<User>;\r\n\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    private db: AngularFireDatabase,\r\n    private messageService: MessageService\r\n  ) {\r\n    this.user = this.afAuth.authState\r\n      .pipe(\r\n        switchMap((auth) => {\r\n          if (auth) {\r\n            return this.db.object('users/' + auth.uid).valueChanges()\r\n              .pipe(\r\n                map((user: User) => {\r\n                  return {\r\n                    ...user,\r\n                    uid: auth.uid\r\n                  };\r\n                })\r\n              );\r\n          } else {\r\n            return of(null);\r\n          }\r\n        })\r\n      );\r\n  }\r\n\r\n  public googleLogin() {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    return this.afAuth.signInWithPopup(provider).then(\r\n      (credential) => {\r\n        this.updateNewUser(credential.user);\r\n      },\r\n      (error) => {\r\n        throw error;\r\n      }\r\n    );\r\n  }\r\n\r\n  public emailSignUp(email: string, password: string) {\r\n    return this.afAuth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then(\r\n        (user) => {\r\n          this.updateNewUser(user);\r\n        },\r\n        (error) => {\r\n          throw error;\r\n        }\r\n      );\r\n  }\r\n\r\n  emailLogin(email: string, password: string) {\r\n    return this.afAuth.signInWithEmailAndPassword(email, password).then(\r\n      (user) => {\r\n        this.updateNewUser(user);\r\n      },\r\n      (error) => {\r\n        throw error;\r\n      }\r\n    );\r\n  }\r\n\r\n  public signOut() {\r\n    this.afAuth.signOut();\r\n    this.messageService.add('You have been logged out.');\r\n  }\r\n\r\n  public updateProfile(userData: User) {\r\n    this.updateExistingUser(userData);\r\n    this.messageService.add('User profile has been updated!');\r\n  }\r\n\r\n  public updatePassword(password: string) {\r\n    return this.afAuth.currentUser\r\n    .then(user => user.updatePassword(password))\r\n      .then(() => {\r\n        this.messageService.add('Password has been updated!');\r\n      })\r\n      .catch(function(error) {\r\n        throw error;\r\n      });\r\n  }\r\n\r\n  public updateEmail(email: string) {\r\n    return this.afAuth.currentUser\r\n    .then(user => user.updateEmail(email))\r\n      .then(() => {\r\n        this.updateExistingUser({ email: email });\r\n        this.messageService.add('User email have been updated!');\r\n      })\r\n      .catch(function(error) {\r\n        throw error;\r\n      });\r\n  }\r\n\r\n  private updateNewUser(authData) {\r\n    const userData = new User(authData);\r\n    const ref = this.db.object('users/' + authData.uid);\r\n    ref\r\n      .valueChanges()\r\n      .pipe(\r\n        take(1)\r\n      )\r\n      .subscribe((user) => {\r\n        if (!user) {\r\n          ref.update(userData);\r\n        }\r\n      });\r\n  }\r\n\r\n  private updateExistingUser(userData) {\r\n     this.afAuth.currentUser.then(user => {\r\n      const ref = this.db.object('users/' + user.uid);\r\n      ref\r\n      .valueChanges()\r\n      .pipe(\r\n        take(1)\r\n      )\r\n      .subscribe((user) => {\r\n        ref.update(userData);\r\n      });\r\n    });\r\n\r\n  }\r\n}\r\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\n\r\nimport { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { Observable ,  Subscription ,  of } from 'rxjs';\r\n\r\nimport { MessageService } from '../../messages/message.service';\r\nimport { FileUploadService } from '../../products/shared/file-upload.service';\r\nimport { ProductService } from '../../products/shared/product.service';\r\nimport { ProductsCacheService } from '../../products/shared/products-cache.service';\r\n\r\nimport { Product } from '../../models/product.model';\r\n\r\n// we send and receive categories as {key:true},\r\n// but for the input field we need\r\n// a product with categories of type string\r\nexport class DomainProduct extends Product {\r\n  categories: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-add-edit',\r\n  templateUrl: './add-edit.component.html',\r\n  styleUrls: ['./add-edit.component.scss']\r\n})\r\nexport class AddEditComponent implements OnInit, OnDestroy {\r\n  private productSubscription: Subscription;\r\n  private formSubscription: Subscription;\r\n  @ViewChild('photos', { static: true }) photos;\r\n  public productForm: UntypedFormGroup;\r\n  public product: DomainProduct;\r\n  public mode: 'edit' | 'add';\r\n  public id;\r\n  public percentage: Observable<number>;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public route: ActivatedRoute,\r\n    private productService: ProductService,\r\n    public fileUploadService: FileUploadService,\r\n    private productsCacheService: ProductsCacheService,\r\n    private log: MessageService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setProduct();\r\n  }\r\n\r\n  private initForm() {\r\n    this.productForm = new UntypedFormGroup({\r\n      name: new UntypedFormControl(\r\n        this.product && this.product.name,\r\n        Validators.required\r\n      ),\r\n      id: new UntypedFormControl(\r\n        {\r\n          value: this.product && this.product.id,\r\n          disabled: true\r\n        },\r\n        [Validators.required, Validators.min(0)]\r\n      ),\r\n      date: new UntypedFormControl(\r\n        this.product && this.product.date,\r\n        Validators.required\r\n      ),\r\n      categories: new UntypedFormControl(\r\n        this.product && this.product.categories,\r\n        Validators.required\r\n      ),\r\n      description: new UntypedFormControl(\r\n        this.product && this.product.description,\r\n        Validators.required\r\n      ),\r\n      price: new UntypedFormControl(this.product && this.product.price, [\r\n        Validators.required,\r\n        Validators.min(0)\r\n      ]),\r\n      priceNormal: new UntypedFormControl(this.product && this.product.priceNormal, [\r\n        Validators.required,\r\n        Validators.min(0)\r\n      ])\r\n    });\r\n    this.onFormChanges();\r\n  }\r\n\r\n  private setProduct() {\r\n    this.route.params.subscribe((params: Params) => {\r\n      this.id = +this.route.snapshot.paramMap.get('id');\r\n      // if we have an id, we're in edit mode\r\n      if (this.id) {\r\n        this.mode = 'edit';\r\n        this.getProduct(this.id);\r\n        this.initForm();\r\n      } else {\r\n        // else we are in add mode\r\n        this.mode = 'add';\r\n        this.constructProduct();\r\n        this.initForm();\r\n      }\r\n    });\r\n  }\r\n\r\n  private constructProduct() {\r\n    const product = this.constructMockProduct();\r\n    product.categories = this.categoriesFromObjectToString(product.categories);\r\n    this.syncProduct(product);\r\n    this.initForm();\r\n  }\r\n\r\n  private getProduct(id): void {\r\n    this.productSubscription = this.productService\r\n      .getProduct(id)\r\n      .subscribe((product) => {\r\n        if (product) {\r\n          product.categories = this.categoriesFromObjectToString(\r\n            product.categories\r\n          );\r\n          this.syncProduct(product);\r\n          this.initForm();\r\n        }\r\n      });\r\n  }\r\n\r\n  private onFormChanges() {\r\n    this.formSubscription = this.productForm.valueChanges.subscribe(\r\n      (formFieldValues) => {\r\n        const product = { ...this.product, ...formFieldValues };\r\n        this.syncProduct(product);\r\n      }\r\n    );\r\n  }\r\n\r\n  private syncProduct(product): void {\r\n    const id = this.createId(product);\r\n    const imageURLs = this.handleImageURLs(product);\r\n    const reduction = this.calculateReduction(\r\n      product.priceNormal,\r\n      product.price\r\n    );\r\n    const sale = this.checkForSale(reduction);\r\n\r\n    this.product = {\r\n      ...product,\r\n      sale,\r\n      reduction,\r\n      id,\r\n      imageURLs\r\n    };\r\n  }\r\n\r\n  public onSubmit() {\r\n    this.syncProduct({ ...this.product, ...this.productForm.value });\r\n    const productToSubmit = this.constructProductToSubmit(this.product);\r\n    const files: FileList = this.photos.nativeElement.files;\r\n    if (this.mode === 'add' && files.length > 0) {\r\n      this.addProduct(productToSubmit, files);\r\n    } else if (this.mode === 'edit') {\r\n      this.updateProduct(productToSubmit, files);\r\n    } else {\r\n      this.log.addError('Please provide a file for your product');\r\n      return;\r\n    }\r\n  }\r\n\r\n  private addProduct(product: Product, files: FileList) {\r\n    this.productService.addProduct({ product, files }).subscribe(\r\n      (savedProduct: Product) => {\r\n        if (savedProduct.id) {\r\n          this.product = null;\r\n          this.router.navigate(['/products']);\r\n        }\r\n      },\r\n      (error) => {\r\n        this.log.addError('Could not upload your product');\r\n        return of(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  private updateProduct(product: Product, files?: FileList) {\r\n    this.productSubscription.unsubscribe();\r\n    this.productService.updateProduct({ product, files }).subscribe(\r\n      (response: Product) => {\r\n        this.router.navigate(['/products/' + response.id]);\r\n      },\r\n      (error) => this.log.addError('Could not update your product')\r\n    );\r\n  }\r\n\r\n  public onDelete() {\r\n    if (this.mode === 'edit') {\r\n      this.productSubscription.unsubscribe();\r\n      this.productService.deleteProduct(this.product).then((res) => {\r\n        this.router.navigate(['/products']);\r\n      });\r\n    } else {\r\n      this.log.addError(`Cannot delete new product`);\r\n    }\r\n  }\r\n\r\n  // pure helper functions start here:\r\n  private constructMockProduct() {\r\n    return new Product();\r\n  }\r\n\r\n  private constructProductToSubmit(product: DomainProduct): Product {\r\n    return {\r\n      ...product,\r\n      categories: this.categoriesFromStringToObject(product.categories)\r\n    };\r\n  }\r\n\r\n  private createId(product: Product): number {\r\n    const randomId = Math.floor(Math.random() * new Date().getTime());\r\n    let id = product.id || randomId;\r\n    if (id === 1) {\r\n      id = randomId;\r\n    }\r\n    return id;\r\n  }\r\n\r\n  private categoriesFromObjectToString(categories: {}): string | null {\r\n    // categories: { key: true, key: true} || {}\r\n    if (Object.keys(categories).length === 0) {\r\n      return 'example, category';\r\n    }\r\n    return Object.keys(categories).reduce(\r\n      (result, currentProduct, index, inputArray) => {\r\n        if (index < inputArray.length - 1) {\r\n          return result + currentProduct + ',';\r\n        }\r\n        return result + currentProduct;\r\n      },\r\n      ''\r\n    );\r\n  }\r\n\r\n  private categoriesFromStringToObject(categories: string): {} {\r\n    // categories: 'cat1, cat2, cat3' || ''\r\n    if (categories.length === 0) {\r\n      return {};\r\n    }\r\n    return categories\r\n      .split(',')\r\n      .reduce((combinedCategories, currentCategory) => {\r\n        combinedCategories[currentCategory.trim()] = true;\r\n        return combinedCategories;\r\n      }, {});\r\n  }\r\n\r\n  private checkForSale(reduction: number): boolean {\r\n    return reduction > 0;\r\n  }\r\n\r\n  private calculateReduction(priceNormal: number, price: number): number {\r\n    const reduction = Math.round((priceNormal - price) / priceNormal * 100);\r\n    return reduction > 0 ? reduction : 0;\r\n  }\r\n\r\n  private handleImageURLs(product: Product): string[] {\r\n    if (product.imageURLs && product.imageURLs.length > 0) {\r\n      return product.imageURLs;\r\n    }\r\n    return [];\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.formSubscription.unsubscribe();\r\n  }\r\n}\r\n","<app-page-title title=\"Add/Edit Product\" [children]=\"[{title: 'Add/Edit Product'}]\"></app-page-title>\r\n\r\n<div class=\"container\">\r\n  <div class=\"row mb-5\">\r\n    <div class=\"col-lg-8\">\r\n      <h2 class=\"margin-bottom-1x\">Add/Edit Product</h2>\r\n      <form [formGroup]=\"productForm\" (ngSubmit)=\"onSubmit()\">\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-2 col-form-label\" for=\"name\">Product Name</label>\r\n          <div class=\"col-10\">\r\n            <input class=\"form-control form-control-square form-control-sm\" formControlName=\"name\" type=\"text\" id=\"name\" value=\"\">\r\n            <div *ngIf=\"!productForm.get('name').valid && productForm.get('name').touched\" class=\"form-control-feedback\">\r\n              Shucks, enter a name for your product.\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-2 col-form-label\" for=\"id\">Id</label>\r\n          <div class=\"col-10\">\r\n            <input class=\"form-control form-control-square form-control-sm\" formControlName=\"id\" type=\"number\" id=\"id\" value=\"0\">\r\n            <div *ngIf=\"!productForm.get('id').valid && productForm.get('id').touched\" class=\"form-control-feedback\">\r\n              Shucks, enter a number as id for your product.\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-2 col-form-label\" for=\"date-input\">Creation Date</label>\r\n          <div class=\"col-10\">\r\n            <input class=\"form-control\" type=\"date\" id=\"date-input\" formControlName=\"date\" value=\"\">\r\n            <div *ngIf=\"!productForm.get('date').valid && productForm.get('date').touched\" class=\"form-control-feedback\">\r\n              Shucks, enter a date for your product.\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-2 col-form-label\" for=\"categories\">Categories (commma seperated)</label>\r\n          <div class=\"col-10\">\r\n            <input class=\"form-control form-control-square form-control-sm\" formControlName=\"categories\" type=\"text\" id=\"categories\"\r\n              value=\"\">\r\n            <div *ngIf=\"!productForm.get('categories').valid && productForm.get('categories').touched\" class=\"form-control-feedback\">\r\n              Shucks, enter at least one category for your product.\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-2 col-form-label\" for=\"description\">Product description</label>\r\n          <div class=\"col-10\">\r\n            <textarea class=\"form-control form-control-square form-control-sm\" formControlName=\"description\" id=\"description\" rows=\"5\">\r\n            </textarea>\r\n            <div *ngIf=\"!productForm.get('description').valid && productForm.get('description').touched\" class=\"form-control-feedback\">\r\n              Shucks, enter a description for your product.\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-2 col-form-label\" for=\"photos\">Add Image</label>\r\n          <div class=\"col-10\">\r\n            <input class=\"\" type=\"file\" id=\"photos\" #photos>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-2 col-form-label\" for=\"price\">Actual Price</label>\r\n          <div class=\"col-10\">\r\n            <input class=\"form-control form-control-square form-control-sm\" formControlName=\"price\" type=\"number\" id=\"price\" value=\"\">\r\n            <div *ngIf=\"!productForm.get('price').valid && productForm.get('price').touched\" class=\"form-control-feedback\">\r\n              Shucks, enter a price for your product.\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-2 col-form-label\" for=\"price-normal\">Original Price</label>\r\n          <div class=\"col-10\">\r\n            <input class=\"form-control form-control-square form-control-sm\" formControlName=\"priceNormal\" type=\"number\" id=\"price-normal\"\r\n              value=\"0\">\r\n            <div *ngIf=\"!productForm.get('priceNormal').valid && productForm.get('priceNormal').touched\" class=\"form-control-feedback\">\r\n              Shucks, enter a base price for your product.\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"fileUploadService.percentage$ | async as pct\" class=\"progress margin-bottom-1x\">\r\n          <div class=\"progress-bar\" role=\"progressbar\" [style.width.%]=\"pct\" aria-valuenow=\"pct | number: '1.0-0'\" aria-valuemin=\"0\"\r\n            aria-valuemax=\"100\">{{pct | number:'1.0-0'}}%</div>\r\n        </div>\r\n\r\n        <div class=\"row mb-5\">\r\n          <div class=\"col text-right\">\r\n            <button [disabled]=\"(mode === 'add')\" class=\"btn btn-danger\" type=\"button\" (click)=\"onDelete()\">Delete Product</button>\r\n            <button [disabled]=\"productForm.invalid\" class=\"btn btn-primary\" type=\"submit\">Save Changes</button>\r\n          </div>\r\n        </div>\r\n\r\n      </form>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { AddEditComponent } from './add-edit/add-edit.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ProductsModule } from '../products/products.module';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AddEditComponent\r\n    ],\r\n    imports: [\r\n        SharedModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        ProductsModule\r\n    ],\r\n    exports: [\r\n        SharedModule,\r\n        ProductsModule\r\n    ]\r\n})\r\nexport class AdminModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  CanActivate,\r\n  ActivatedRouteSnapshot,\r\n  RouterStateSnapshot,\r\n  Router\r\n} from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthService } from '../../account/shared/auth.service';\r\n\r\nimport { take ,  map ,  tap } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class AdminGuard implements CanActivate {\r\n  constructor(private authService: AuthService, private router: Router) {}\r\n\r\n  public canActivate(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> | Promise<boolean> | boolean {\r\n    return this.authService.user.pipe(\r\n      take(1),\r\n      map((user) => (user && user.roles.admin ? true : false)),\r\n      tap((authorized) => {\r\n        if (!authorized) {\r\n          this.router.navigate(['/register-login']);\r\n        }\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AppComponent } from './app.component';\r\nimport { HomeComponent } from './core/home/home.component';\r\nimport { CartComponent } from './cart/cart.component';\r\nimport { AddEditComponent } from './admin/add-edit/add-edit.component';\r\nimport { PageNotFoundComponent } from './page-not-found/page-not-found.component';\r\nimport { AdminGuard } from './admin/shared/admin.guard';\r\nimport { CheckoutComponent } from './checkout/checkout.component';\r\nimport { RegisterLoginComponent } from './account/register-login/register-login.component';\r\nimport { OrdersComponent } from './account/orders/orders.component';\r\nimport { ProfileComponent } from './account/profile/profile.component';\r\nimport { AccountComponent } from './account/account.component';\r\nimport { ProductsListComponent } from './products/products-list/products-list.component';\r\nimport { ProductDetailComponent } from './products/product-detail/product-detail.component';\r\nimport { CompleteComponent } from './checkout/complete/complete.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: '/home', pathMatch: 'full' },\r\n  { path: 'home', component: HomeComponent },\r\n  { path: 'products', component: ProductsListComponent },\r\n  { path: 'products/:id', component: ProductDetailComponent },\r\n  { path: 'cart', component: CartComponent },\r\n  { path: 'admin/add', component: AddEditComponent, canActivate: [AdminGuard] },\r\n  {\r\n    path: 'admin/edit/:id',\r\n    component: AddEditComponent,\r\n    canActivate: [AdminGuard]\r\n  },\r\n  { path: 'checkout', component: CheckoutComponent },\r\n  { path: 'register-login', component: RegisterLoginComponent },\r\n  {\r\n    path: 'account',\r\n    component: AccountComponent,\r\n    children: [\r\n      { path: '', redirectTo: 'profile', pathMatch: 'full' },\r\n      { path: 'orders', component: OrdersComponent },\r\n      { path: 'profile', component: ProfileComponent }\r\n    ]\r\n  },\r\n  { path: 'order-complete', component: CompleteComponent },\r\n  { path: '**', component: PageNotFoundComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\r\n  exports: [RouterModule],\r\n  providers: [\r\n    AdminGuard,\r\n  ]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\nimport { OffcanvasService } from './core/shared/offcanvas.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  public products: any;\r\n\r\n  constructor(public offcanvasService: OffcanvasService) {}\r\n}\r\n","<div class=\"main-wrapper\" [ngClass]=\"{'offcanvas-open': offcanvasService.offcanvasNavigationOpen | async}\">\r\n    <app-navigation-off-canvas></app-navigation-off-canvas>\r\n    <app-top-bar></app-top-bar>\r\n    <app-header></app-header>\r\n    <app-content></app-content>\r\n</div>\r\n","// Modules\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ToastrModule } from 'ngx-toastr';\r\nimport { ProductsModule } from './products/products.module';\r\nimport { SharedModule } from './shared/shared.module';\r\nimport { CoreModule } from './core/core.module';\r\nimport { CheckoutModule } from './checkout/checkout.module';\r\nimport { AccountModule } from './account/account.module';\r\nimport { AdminModule } from './admin/admin.module';\r\nimport { AngularFireModule } from '@angular/fire/compat/';\r\nimport { AngularFireDatabaseModule } from '@angular/fire/compat/database';\r\nimport { AngularFireStorageModule } from '@angular/fire/compat/storage';\r\nimport { AngularFireAuthModule } from '@angular/fire/compat/auth';\r\nimport { environment } from '../environments/environment';\r\n\r\n// Components\r\nimport { AppComponent } from './app.component';\r\nimport { CartComponent } from './cart/cart.component';\r\nimport { PageNotFoundComponent } from './page-not-found/page-not-found.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    CartComponent,\r\n    PageNotFoundComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    AngularFireDatabaseModule,\r\n    AngularFireAuthModule, // imports firebase/auth, only needed for auth features,\r\n    AngularFireStorageModule, // imports firebase/storage only needed for storage features\r\n    HttpClientModule,\r\n    SharedModule,\r\n    ToastrModule.forRoot(),\r\n    CoreModule,\r\n    ProductsModule,\r\n    CheckoutModule,\r\n    AccountModule,\r\n    AdminModule\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { CartService } from './shared/cart.service';\r\nimport { CartItem } from '../models/cart-item.model';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.scss']\r\n})\r\nexport class CartComponent implements OnInit, OnDestroy {\r\n  private cartSubscription: Subscription;\r\n  public items: CartItem[];\r\n  public total: number;\r\n\r\n  constructor(private cartService: CartService) {}\r\n\r\n  ngOnInit() {\r\n    this.items = this.cartService.getItems();\r\n    this.total = this.cartService.getTotal();\r\n    this.cartSubscription = this.cartService.itemsChanged.subscribe(\r\n      (items: CartItem[]) => {\r\n        this.items = items;\r\n        this.total = this.cartService.getTotal();\r\n      }\r\n    );\r\n  }\r\n\r\n  public onClearCart(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.cartService.clearCart();\r\n  }\r\n\r\n  public onRemoveItem(event, item: CartItem) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.cartService.removeItem(item);\r\n  }\r\n\r\n  public increaseAmount(item: CartItem) {\r\n    this.cartService.updateItemAmount(item, item.amount + 1);\r\n  }\r\n\r\n  public decreaseAmount(item: CartItem) {\r\n    const newAmount = item.amount === 1 ? 1 : item.amount - 1;\r\n    this.cartService.updateItemAmount(item, newAmount);\r\n  }\r\n\r\n  public checkAmount(item: CartItem) {\r\n    this.cartService.updateItemAmount(\r\n      item,\r\n      item.amount < 1 || !item.amount || isNaN(item.amount) ? 1 : item.amount\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.cartSubscription.unsubscribe();\r\n  }\r\n}\r\n","<app-page-title title=\"Cart\" [children]=\"[{title: 'Cart'}]\"></app-page-title>\r\n\r\n\r\n      <!-- Page Content-->\r\n      <div class=\"container padding-bottom-3x mb-1\">\r\n        <!-- Alert-->\r\n        <!-- <div class=\"alert alert-info alert-dismissible fade show text-center\" style=\"margin-bottom: 30px;\">\r\n          <span class=\"alert-close\" data-dismiss=\"alert\"></span>\r\n          <img class=\"d-inline align-center\" src=\"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTIuMDAzIDUxMi4wMDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMi4wMDMgNTEyLjAwMzsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiPgo8Zz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBkPSJNMjU2LjAwMSw2NGMtNzAuNTkyLDAtMTI4LDU3LjQwOC0xMjgsMTI4czU3LjQwOCwxMjgsMTI4LDEyOHMxMjgtNTcuNDA4LDEyOC0xMjhTMzI2LjU5Myw2NCwyNTYuMDAxLDY0eiAgICAgIE0yNTYuMDAxLDI5OC42NjdjLTU4LjgxNiwwLTEwNi42NjctNDcuODUxLTEwNi42NjctMTA2LjY2N1MxOTcuMTg1LDg1LjMzMywyNTYuMDAxLDg1LjMzM1MzNjIuNjY4LDEzMy4xODQsMzYyLjY2OCwxOTIgICAgIFMzMTQuODE3LDI5OC42NjcsMjU2LjAwMSwyOTguNjY3eiIgZmlsbD0iIzUwYzZlOSIvPgoJCQk8cGF0aCBkPSJNMzg1LjY0NCwzMzMuMjA1YzM4LjIyOS0zNS4xMzYsNjIuMzU3LTg1LjMzMyw2Mi4zNTctMTQxLjIwNWMwLTEwNS44NTYtODYuMTIzLTE5Mi0xOTItMTkycy0xOTIsODYuMTQ0LTE5MiwxOTIgICAgIGMwLDU1Ljg1MSwyNC4xMjgsMTA2LjA2OSw2Mi4zMzYsMTQxLjE4NEw2NC42ODQsNDk3LjZjLTEuNTM2LDQuMTE3LTAuNDA1LDguNzI1LDIuODM3LDExLjY2OSAgICAgYzIuMDI3LDEuNzkyLDQuNTY1LDIuNzMxLDcuMTQ3LDIuNzMxYzEuNjIxLDAsMy4yNDMtMC4zNjMsNC43NzktMS4xMDlsNzkuNzg3LTM5Ljg5M2w1OC44NTksMzkuMjMyICAgICBjMi42ODgsMS43OTIsNi4xMDEsMi4yNCw5LjE5NSwxLjI4YzMuMDkzLTEuMDAzLDUuNTY4LTMuMzQ5LDYuNjk5LTYuNGwyMy4yOTYtNjIuMTQ0bDIwLjU4Nyw2MS43MzkgICAgIGMxLjA2NywzLjE1NywzLjU0MSw1LjYzMiw2LjY3Nyw2LjcyYzMuMTM2LDEuMDY3LDYuNTkyLDAuNjQsOS4zNjUtMS4yMTZsNTguODU5LTM5LjIzMmw3OS43ODcsMzkuODkzICAgICBjMS41MzYsMC43NjgsMy4xNTcsMS4xMzEsNC43NzksMS4xMzFjMi41ODEsMCw1LjEyLTAuOTM5LDcuMTI1LTIuNzUyYzMuMjY0LTIuOTIzLDQuMzczLTcuNTUyLDIuODM3LTExLjY2OUwzODUuNjQ0LDMzMy4yMDV6ICAgICAgTTI0Ni4wMTcsNDEyLjI2N2wtMjcuMjg1LDcyLjc0N2wtNTIuODIxLTM1LjJjLTMuMi0yLjExMi03LjMxNy0yLjM4OS0xMC42ODgtMC42NjFMOTQuMTg4LDQ3OS42OGw0OS41NzktMTMyLjIyNCAgICAgYzI2Ljg1OSwxOS40MzUsNTguNzk1LDMyLjIxMyw5My41NDcsMzUuNjA1TDI0Ni43LDQxMS4yQzI0Ni40ODcsNDExLjU2MywyNDYuMTY3LDQxMS44NCwyNDYuMDE3LDQxMi4yNjd6IE0yNTYuMDAxLDM2Mi42NjcgICAgIEMxNjEuOSwzNjIuNjY3LDg1LjMzNSwyODYuMTAxLDg1LjMzNSwxOTJTMTYxLjksMjEuMzMzLDI1Ni4wMDEsMjEuMzMzUzQyNi42NjgsOTcuODk5LDQyNi42NjgsMTkyICAgICBTMzUwLjEwMywzNjIuNjY3LDI1Ni4wMDEsMzYyLjY2N3ogTTM1Ni43NTksNDQ5LjEzMWMtMy40MTMtMS43MjgtNy41MDktMS40NzItMTAuNjg4LDAuNjYxbC01Mi4zNzMsMzQuOTIzbC0zMy42NDMtMTAwLjkyOCAgICAgYzQwLjM0MS0wLjg1Myw3Ny41ODktMTQuMTg3LDEwOC4xNi0zNi4zMzFsNDkuNTc5LDEzMi4yMDNMMzU2Ljc1OSw0NDkuMTMxeiIgZmlsbD0iIzUwYzZlOSIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K\"\r\n            width=\"18\" height=\"18\" alt=\"Medal icon\">&nbsp;&nbsp;With this purchase you will earn\r\n          <strong>290</strong> Reward Points.\r\n        </div> -->\r\n\r\n        <!-- Shopping Cart-->\r\n        <div class=\"table-responsive shopping-cart\">\r\n          <table class=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Product Name</th>\r\n                <th class=\"text-center\">Quantity</th>\r\n                <th class=\"text-center\">Price</th>\r\n                <th class=\"text-center\">Subtotal</th>\r\n                <th class=\"text-right\">\r\n                  <button class=\"btn btn-sm btn-outline-danger\" (click)=\"onClearCart($event)\">Clear Cart</button>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody *ngIf=\"items.length; else noItemsInCart\">\r\n              <tr *ngFor=\"let item of items\">\r\n                <td>\r\n                  <div class=\"product-item\">\r\n                    <a class=\"product-thumb\" routerLink=\"/products/{{item.product.id}}\">\r\n                      <img [src]=\"item.product.imageURLs[0]\" alt=\"Product\">\r\n                    </a>\r\n                    <div class=\"product-info\">\r\n                      <h4 class=\"product-title\">\r\n                        <a routerLink=\"/products/{{item.product.id}}\">{{item.product.name}}</a>\r\n                      </h4>\r\n                      <!-- <span>\r\n                        <em>Size:</em> 10.5</span>\r\n                      <span>\r\n                        <em>Color:</em> Dark Blue</span> -->\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td class=\"text-center\">\r\n                  <div class=\"count-input\">\r\n                    <div class=\"input-group\">\r\n                      <div class=\"input-group-prepend\">\r\n                        <button class=\"btn btn-outline-secondary\" type=\"button\" (click)=\"decreaseAmount(item)\">-</button>\r\n                      </div>\r\n                      <input type=\"text\" class=\"form-control text-center\" placeholder=\"\" [(ngModel)]=\"item.amount\" (blur)=\"checkAmount(item)\">\r\n                      <div class=\"input-group-append\">\r\n                        <button class=\"btn btn-outline-secondary\" type=\"button\" (click)=\"increaseAmount(item)\">+</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td class=\"text-center text-lg text-medium\"><app-price [product]=\"item.product\"></app-price></td>\r\n                <td class=\"text-center text-lg text-medium\">{{ (item.product.price * item.amount) | currency }}</td>\r\n                <td class=\"text-right\">\r\n                  <a class=\"remove-from-cart\"\r\n                    href=\"#\"\r\n                    data-toggle=\"tooltip\"\r\n                    title=\"Remove item\"\r\n                    (click)=\"onRemoveItem($event, item)\">\r\n                    <i class=\"icon-cross\"></i>\r\n                  </a>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n\r\n            <ng-template #noItemsInCart>\r\n              <tbody>\r\n                <tr>\r\n                  <td colspan=\"5\">There are no items in your cart..</td>\r\n                </tr>\r\n              </tbody>\r\n            </ng-template>\r\n\r\n          </table>\r\n        </div>\r\n\r\n        <div class=\"shopping-cart-footer\">\r\n          <div class=\"column\">\r\n            <!-- <form class=\"coupon-form\" method=\"post\">\r\n              <input class=\"form-control form-control-sm\" type=\"text\" placeholder=\"Coupon code\" required>\r\n              <button class=\"btn btn-outline-primary btn-sm\" type=\"submit\">Apply Coupon</button>\r\n            </form> -->\r\n          </div>\r\n          <div class=\"column text-lg\">Total:\r\n            <span class=\"text-medium\">{{ total | currency }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"shopping-cart-footer\">\r\n          <div class=\"column\">\r\n            <a class=\"btn btn-outline-secondary\" routerLink=\"/products\">\r\n              <i class=\"icon-arrow-left\"></i>&nbsp;Back to Shopping</a>\r\n          </div>\r\n          <div class=\"column\">\r\n            <!-- <a class=\"btn btn-primary\" href=\"#\" data-toast data-toast-type=\"success\" data-toast-position=\"topRight\" data-toast-icon=\"icon-circle-check\"\r\n              data-toast-title=\"Your cart\" data-toast-message=\"is updated successfully!\">Update Cart</a> -->\r\n            <a class=\"btn btn-success\" routerLink=\"/checkout\">Checkout</a>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n","import { EventEmitter, Injectable } from '@angular/core';\r\nimport { Product } from '../../models/product.model';\r\nimport { CartItem } from '../../models/cart-item.model';\r\nimport { MessageService } from '../../messages/message.service';\r\n\r\n@Injectable()\r\nexport class CartService {\r\n  // Init and generate some fixtures\r\n  private cartItems: CartItem[];\r\n  public itemsChanged: EventEmitter<CartItem[]> = new EventEmitter<CartItem[]>();\r\n\r\n  constructor(private messageService: MessageService) {\r\n    this.cartItems = [];\r\n  }\r\n\r\n  public getItems() {\r\n    return this.cartItems.slice();\r\n  }\r\n\r\n  // Get Product ids out of CartItem[] in a new array\r\n  private getItemIds() {\r\n    return this.getItems().map(cartItem => cartItem.product.id);\r\n  }\r\n\r\n  public addItem(item: CartItem) {\r\n    // If item is already in cart, add to the amount, otherwise push item into cart\r\n    if (this.getItemIds().includes(item.product.id)) {\r\n      this.cartItems.forEach(function (cartItem) {\r\n        if (cartItem.product.id === item.product.id) {\r\n          cartItem.amount += item.amount;\r\n        }\r\n      });\r\n      this.messageService.add('Amount in cart changed for: ' + item.product.name);\r\n    } else {\r\n      this.cartItems.push(item);\r\n      this.messageService.add('Added to cart: ' + item.product.name);\r\n    }\r\n    this.itemsChanged.emit(this.cartItems.slice());\r\n  }\r\n\r\n  public addItems(items: CartItem[]) {\r\n    items.forEach((cartItem) => {\r\n      this.addItem(cartItem);\r\n    });\r\n  }\r\n\r\n  public removeItem(item: CartItem) {\r\n    const indexToRemove = this.cartItems.findIndex(element => element === item);\r\n    this.cartItems.splice(indexToRemove, 1);\r\n    this.itemsChanged.emit(this.cartItems.slice());\r\n    this.messageService.add('Deleted from cart: ' + item.product.name);\r\n  }\r\n\r\n  public updateItemAmount(item: CartItem, newAmount: number) {\r\n    this.cartItems.forEach((cartItem) => {\r\n      if (cartItem.product.id === item.product.id) {\r\n        cartItem.amount = newAmount;\r\n      }\r\n    });\r\n    this.itemsChanged.emit(this.cartItems.slice());\r\n    this.messageService.add('Updated amount for: ' + item.product.name);\r\n  }\r\n\r\n  public clearCart() {\r\n    this.cartItems = [];\r\n    this.itemsChanged.emit(this.cartItems.slice());\r\n    this.messageService.add('Cleared cart');\r\n  }\r\n\r\n  public getTotal() {\r\n    let total = 0;\r\n    this.cartItems.forEach((cartItem) => {\r\n      total += cartItem.amount * cartItem.product.price;\r\n    });\r\n    return total;\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\r\nimport { NgForm, UntypedFormGroup, UntypedFormControl, Validators } from '@angular/forms';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { AuthService } from '../../account/shared/auth.service';\r\nimport { CheckoutService } from '../shared/checkout.service';\r\n\r\n@Component({\r\n  selector: 'app-checkout-address',\r\n  templateUrl: './address.component.html',\r\n  styleUrls: ['./address.component.scss']\r\n})\r\nexport class AddressComponent implements OnInit, OnDestroy {\r\n  private authSubscription: Subscription;\r\n  @Input() public user;\r\n  public formAddress: UntypedFormGroup;\r\n  public countries: string[];\r\n\r\n  constructor(\r\n    private checkoutService: CheckoutService,\r\n    private authService: AuthService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.initFormGroup();\r\n\r\n    this.authSubscription = this.authService.user.subscribe((user) => {\r\n      if (user) {\r\n        this.user = user;\r\n        this.initFormGroup();\r\n      }\r\n    });\r\n  }\r\n\r\n  private initFormGroup() {\r\n    this.countries = ['Switzerland'];\r\n    this.formAddress = new UntypedFormGroup({\r\n      firstname: new UntypedFormControl(\r\n        this.user && this.user.firstName,\r\n        Validators.required\r\n      ),\r\n      lastname: new UntypedFormControl(\r\n        this.user && this.user.lastName,\r\n        Validators.required\r\n      ),\r\n      address1: new UntypedFormControl(null, Validators.required),\r\n      address2: new UntypedFormControl(null),\r\n      zip: new UntypedFormControl(null, [\r\n        Validators.required,\r\n        Validators.pattern(/^\\d\\d\\d\\d$/)\r\n      ]),\r\n      city: new UntypedFormControl(null, Validators.required),\r\n      email: new UntypedFormControl(\r\n        this.user && this.user.email,\r\n        Validators.email\r\n      ),\r\n      phone: new UntypedFormControl(null),\r\n      company: new UntypedFormControl(null),\r\n      country: new UntypedFormControl({ value: this.countries[0], disabled: false })\r\n    });\r\n  }\r\n\r\n  public onContinue() {\r\n    this.checkoutService.setCustomer(this.formAddress.value);\r\n    this.checkoutService.nextStep();\r\n  }\r\n\r\n  // Debug: Fill Form Helper MEthod\r\n  public onFillForm(event: Event) {\r\n    event.preventDefault();\r\n    this.formAddress.setValue({\r\n      firstname: 'Hans',\r\n      lastname: 'Muster',\r\n      address1: 'Musterstrasse 13',\r\n      address2: '',\r\n      zip: 1234,\r\n      city: 'Musterhausen',\r\n      email: 'hans.muster@muster.com',\r\n      phone: '+41791234567',\r\n      company: '',\r\n      country: 'Switzerland'\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.authSubscription.unsubscribe();\r\n  }\r\n}\r\n","<h4>Billing Address</h4>\r\n<hr class=\"padding-bottom-1x\">\r\n<form *ngIf=\"formAddress\" [formGroup]=\"formAddress\">\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\" [ngClass]=\"{'has-danger': formAddress.get('firstname').invalid && formAddress.get('firstname').touched}\">\r\n        <label for=\"firstname\">First Name</label>\r\n        <input class=\"form-control\" type=\"text\" id=\"firstname\" name=\"firstname\" formControlName=\"firstname\">\r\n        <div class=\"form-control-feedback\" *ngIf=\"formAddress.get('firstname').invalid && formAddress.get('firstname').touched\">Please enter your firstname!</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\" [ngClass]=\"{'has-danger': formAddress.get('lastname').invalid && formAddress.get('lastname').touched}\">\r\n        <label for=\"lastname\">Last Name</label>\r\n        <input class=\"form-control\" type=\"text\" id=\"lastname\" name=\"lastname\" formControlName=\"lastname\">\r\n        <div class=\"form-control-feedback\" *ngIf=\"formAddress.get('lastname').invalid && formAddress.get('lastname').touched\">Please enter your lastname!</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\" [ngClass]=\"{'has-danger': formAddress.get('address1').invalid && formAddress.get('address1').touched}\">\r\n        <label for=\"address1\">Address 1</label>\r\n        <input class=\"form-control\" type=\"text\" id=\"address1\" name=\"address1\" formControlName=\"address1\">\r\n        <div class=\"form-control-feedback\" *ngIf=\"formAddress.get('address1').invalid && formAddress.get('address1').touched\">Please enter your address!</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\">\r\n        <label for=\"address2\">Address 2</label>\r\n        <input class=\"form-control\" type=\"text\" id=\"address2\" name=\"address2\" formControlName=\"address2\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\" [ngClass]=\"{'has-danger': formAddress.get('zip').invalid && formAddress.get('zip').touched}\">\r\n        <label for=\"zip\">ZIP Code</label>\r\n        <input class=\"form-control\" type=\"text\" name=\"zip\" id=\"zip\" formControlName=\"zip\">\r\n        <div class=\"form-control-feedback\" *ngIf=\"formAddress.get('zip').invalid && formAddress.get('zip').touched\">Please enter your zip code!</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\" [ngClass]=\"{'has-danger': formAddress.get('city').invalid && formAddress.get('city').touched}\">\r\n        <label for=\"city\">City</label>\r\n        <input class=\"form-control\" type=\"text\" name=\"city\" id=\"city\" formControlName=\"city\">\r\n        <div class=\"form-control-feedback\" *ngIf=\"formAddress.get('city').invalid && formAddress.get('city').touched\">Please enter your city!</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\" [ngClass]=\"{'has-danger': formAddress.get('email').invalid && formAddress.get('email').touched}\">\r\n        <label for=\"email\">E-mail Address</label>\r\n        <input class=\"form-control\" type=\"email\" id=\"email\" name=\"email\" formControlName=\"email\">\r\n        <div class=\"form-control-feedback\" *ngIf=\"formAddress.get('email').invalid && formAddress.get('email').touched\">Please enter your E-mail!</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\">\r\n        <label for=\"phone\">Phone Number</label>\r\n        <input class=\"form-control\" type=\"text\" id=\"phone\" name=\"phone\" formControlName=\"phone\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\">\r\n        <label for=\"company\">Company</label>\r\n        <input class=\"form-control\" type=\"text\" id=\"company\" name=\"company\" formControlName=\"company\">\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-6\">\r\n      <div class=\"form-group\">\r\n        <label for=\"country\">Country</label>\r\n        <select class=\"form-control\" id=\"country\" name=\"country\" formControlName=\"country\">\r\n          <option *ngFor=\"let country of countries\" value=\"{{country}}\">{{country}}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <h4>Shipping Address</h4>\r\n  <hr class=\"padding-bottom-1x\">\r\n  <div class=\"form-group\">\r\n    <label class=\"custom-control custom-checkbox\">\r\n      <input class=\"custom-control-input\" type=\"checkbox\" checked>\r\n      <span class=\"custom-control-indicator\"></span>\r\n      <span class=\"custom-control-description\">Same as billing address</span>\r\n      <a href=\"\" (click)=\"onFillForm($event)\">Debug: Fill out form</a>\r\n    </label>\r\n  </div>\r\n</form>\r\n\r\n<app-checkout-footer [buttons]=\"['backToCart', 'continue']\"  (continue)=\"onContinue()\" [continueEnabled]=\"formAddress.valid\"></app-checkout-footer>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { CheckoutService } from './shared/checkout.service';\r\n\r\n@Component({\r\n  selector: 'app-checkout',\r\n  templateUrl: './checkout.component.html',\r\n  styleUrls: ['./checkout.component.scss']\r\n})\r\nexport class CheckoutComponent implements OnInit, OnDestroy {\r\n  checkoutSubscription: Subscription;\r\n  steps: string[];\r\n  activeStep: number;\r\n\r\n  constructor(private checkoutService: CheckoutService) {}\r\n\r\n  ngOnInit() {\r\n    this.steps = ['1. Address', '2. Shipping', '3. Payment', '4. Review'];\r\n    this.activeStep = this.checkoutService.activeStep;\r\n    this.checkoutSubscription = this.checkoutService.stepChanged.subscribe((step: number) => {\r\n      this.activeStep = step;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.checkoutSubscription.unsubscribe();\r\n  }\r\n}\r\n","<app-page-title title=\"Checkout\" [children]=\"[{title: 'Checkout'}]\"></app-page-title>\r\n\r\n<div class=\"container padding-bottom-3x mb-2\">\r\n  <div class=\"row\">\r\n    <div class=\"col-xl-9 col-lg-8\">\r\n\r\n      <div class=\"checkout-steps\">\r\n        <button [ngClass]=\"{'active': i === activeStep, 'active-sibling': i === activeStep-1}\" *ngFor=\"let step of steps; let i = index\"><span class=\"angle\" *ngIf=\"i < steps.length-1\"></span>{{step}}</button>\r\n      </div>\r\n\r\n      <app-checkout-address [ngClass]=\"{'d-none': activeStep !== 0}\"></app-checkout-address>\r\n      <app-checkout-shipping [ngClass]=\"{'d-none': activeStep !== 1}\"></app-checkout-shipping>\r\n      <app-checkout-payment [ngClass]=\"{'d-none': activeStep !== 2}\"></app-checkout-payment>\r\n      <app-checkout-review [ngClass]=\"{'d-none': activeStep !== 3}\"></app-checkout-review>\r\n\r\n    </div>\r\n    <div class=\"col-xl-3 col-lg-4\">\r\n      <app-checkout-sidebar></app-checkout-sidebar>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { AddressComponent } from './address/address.component';\r\nimport { FooterComponent } from './footer/footer.component';\r\nimport { PaymentComponent } from './payment/payment.component';\r\nimport { ReviewComponent } from './review/review.component';\r\nimport { ShippingComponent } from './shipping/shipping.component';\r\nimport { SidebarComponent } from './sidebar/sidebar.component';\r\nimport { CheckoutComponent } from './checkout.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CompleteComponent } from './complete/complete.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        CheckoutComponent,\r\n        AddressComponent,\r\n        FooterComponent,\r\n        PaymentComponent,\r\n        ReviewComponent,\r\n        ShippingComponent,\r\n        SidebarComponent,\r\n        CompleteComponent\r\n    ],\r\n    imports: [\r\n        SharedModule,\r\n        FormsModule,\r\n        ReactiveFormsModule\r\n    ],\r\n    exports: [\r\n        SharedModule,\r\n        CheckoutComponent,\r\n        AddressComponent,\r\n        FooterComponent,\r\n        PaymentComponent,\r\n        ReviewComponent,\r\n        ShippingComponent,\r\n        SidebarComponent,\r\n        FormsModule,\r\n        ReactiveFormsModule\r\n    ]\r\n})\r\nexport class CheckoutModule {}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-complete',\r\n  templateUrl: './complete.component.html',\r\n  styleUrls: ['./complete.component.scss']\r\n})\r\nexport class CompleteComponent {}\r\n","<app-page-title title=\"Checkout\" [children]=\"[{title: 'Checkout'}]\"></app-page-title>\r\n\r\n\r\n<div class=\"container padding-bottom-3x mb-2\">\r\n  <div class=\"card text-center\">\r\n    <div class=\"card-body padding-top-2x\">\r\n      <h3 class=\"card-title\">Thank you for your order!</h3>\r\n      <p class=\"card-text\">Your order has been placed and will be processed as soon as possible.</p>\r\n      <p class=\"card-text\">You will be receiving an email shortly with confirmation of your order.\r\n      </p>\r\n      <div class=\"padding-top-1x padding-bottom-1x\">\r\n        <a class=\"btn btn-outline-secondary\" routerLink=\"/home\">Go Back Shopping</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-checkout-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.scss']\r\n})\r\nexport class FooterComponent {\r\n  @Input() buttons: string[];\r\n  @Input() continueEnabled: boolean;\r\n  @Output() back: EventEmitter<void> = new EventEmitter<void>();\r\n  @Output() continue: EventEmitter<void> = new EventEmitter<void>();\r\n  @Output() completeOrder: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  onBack(e: Event) {\r\n    this.back.emit();\r\n  }\r\n\r\n  onContinue(e: Event) {\r\n    this.continue.emit();\r\n  }\r\n\r\n  onCompleteOrder(e: Event) {\r\n    this.completeOrder.emit();\r\n  }\r\n}\r\n","<div class=\"checkout-footer\">\r\n  <div class=\"column\">\r\n    <button *ngIf=\"buttons.includes('backToCart')\" class=\"btn btn-outline-secondary\" routerLink=\"/cart\">\r\n      <i class=\"icon-arrow-left\"></i><span class=\"hidden-xs-down\">&nbsp;Back To Cart</span>\r\n    </button>\r\n    <button *ngIf=\"buttons.includes('back')\" class=\"btn btn-outline-secondary\" (click)=\"onBack($event)\">\r\n      <i class=\"icon-arrow-left\"></i>\r\n      <span class=\"hidden-xs-down\">&nbsp;Back</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"column\">\r\n    <button *ngIf=\"buttons.includes('continue')\" class=\"btn btn-primary\" href=\"\" (click)=\"onContinue($event)\" [disabled]=\"!continueEnabled\">\r\n      <span class=\"hidden-xs-down\">Continue&nbsp;</span><i class=\"icon-arrow-right\"></i>\r\n    </button>\r\n    <button *ngIf=\"buttons.includes('completeOrder')\" class=\"btn btn-primary\" href=\"\" (click)=\"onCompleteOrder($event)\">\r\n      <span class=\"hidden-xs-down\">Complete Order</span><span class=\"d-sm-none\">Complete</span>\r\n    </button>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\n\r\nimport { CheckoutService } from '../shared/checkout.service';\r\n\r\n@Component({\r\n  selector: 'app-checkout-payment',\r\n  templateUrl: './payment.component.html',\r\n  styleUrls: ['./payment.component.scss']\r\n})\r\nexport class PaymentComponent implements OnInit {\r\n  public formPayment: UntypedFormGroup;\r\n  public paypalLoggedIn: boolean;\r\n  public paymentMethods: string[];\r\n\r\n  constructor(private checkoutService: CheckoutService) { }\r\n\r\n  ngOnInit() {\r\n    this.paypalLoggedIn = false;\r\n    this.paymentMethods = ['Paypal', 'Prepayment'];\r\n    this.formPayment = new UntypedFormGroup({\r\n      'paymentMethod': new UntypedFormControl(this.paymentMethods[0], Validators.required)\r\n    });\r\n  }\r\n\r\n  public onPaypalLogin(event: Event) {\r\n    this.paypalLoggedIn = true;\r\n  }\r\n\r\n  public onBack() {\r\n    this.checkoutService.previousStep();\r\n  }\r\n\r\n  public onContinue() {\r\n    this.checkoutService.setPaymentMethod(this.formPayment.controls.paymentMethod.value);\r\n    this.checkoutService.nextStep();\r\n  }\r\n\r\n}\r\n","<h4>\r\n  Choose Payment Method</h4>\r\n<hr class=\"padding-bottom-1x\">\r\n<form [formGroup]=\"formPayment\">\r\n<div class=\"table-responsive\">\r\n  <table class=\"table\">\r\n    <thead class=\"thead-default\">\r\n      <tr>\r\n        <th>Payment method</th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let paymentMethod of paymentMethods\">\r\n        <td class=\"align-middle\">\r\n          <img src=\"img/paypal.svg\" alt=\"{{paymentMethod}}\" *ngIf=\"paymentMethod === 'Paypal'\" /><span *ngIf=\"paymentMethod !== 'Paypal'\" class=\"text-medium\">{{paymentMethod}}</span>\r\n        </td>\r\n        <td class=\"align-middle\">\r\n          <label class=\"custom-control custom-radio\">\r\n            <input class=\"form-control-radio\" type=\"radio\" name=\"paymentMethod\" value=\"{{paymentMethod}}\" formControlName=\"paymentMethod\">\r\n            <span class=\"custom-control-indicator\"></span>\r\n          </label>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n</form>\r\n\r\n<app-checkout-footer [buttons]=\"['back', 'continue']\" (back)=\"onBack()\" (continue)=\"onContinue()\" [continueEnabled]=\"formPayment.valid\"></app-checkout-footer>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { AuthService } from '../../account/shared/auth.service';\r\nimport { CheckoutService } from '../shared/checkout.service';\r\nimport { CartService } from '../../cart/shared/cart.service';\r\nimport { MessageService } from '../../messages/message.service';\r\nimport { OrderService } from '../../account/orders/shared/order.service';\r\n\r\nimport { CartItem } from '../../models/cart-item.model';\r\nimport { Customer } from '../../models/customer.model';\r\nimport { Order } from '../../models/order.model';\r\nimport { User } from '../../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-checkout-review',\r\n  templateUrl: './review.component.html',\r\n  styleUrls: ['./review.component.scss']\r\n})\r\nexport class ReviewComponent implements OnInit, OnDestroy {\r\n  items: CartItem[];\r\n  total: number;\r\n  customer: Customer;\r\n  paymentMethod: string;\r\n  unsubscribe$ = new Subject();\r\n  user: User;\r\n\r\n\r\n  constructor(\r\n    private cartService: CartService,\r\n    private checkoutService: CheckoutService,\r\n    private orderService: OrderService,\r\n    private router: Router,\r\n    private authService: AuthService,\r\n    private messageService: MessageService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.authService.user.subscribe(user => this.user = user);\r\n\r\n    this.items = this.cartService.getItems();\r\n    this.total = this.cartService.getTotal();\r\n    this.cartService.itemsChanged\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((items: CartItem[]) => {\r\n        this.items = items;\r\n        this.total = this.cartService.getTotal();\r\n      });\r\n    this.customer = this.checkoutService.getOrderInProgress().customer;\r\n    this.checkoutService.orderInProgressChanged\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((order: Order) => {\r\n        this.customer = order.customer;\r\n        this.paymentMethod = order.paymentMethod;\r\n      });\r\n  }\r\n\r\n  public onBack() {\r\n    this.checkoutService.previousStep();\r\n  }\r\n\r\n  public onCompleteOrder() {\r\n    const userUid = this.user ? this.user.uid : false;\r\n    const order = this.checkoutService.getOrderInProgress();\r\n    const total = this.cartService.getTotal();\r\n\r\n    this.checkoutService.setOrderItems(this.cartService.getItems());\r\n\r\n    if (userUid) {\r\n      this.submitUserOrder(order, total, userUid);\r\n    } else {\r\n      this.submitAnonOrder(order, total);\r\n    }\r\n  }\r\n\r\n  private submitUserOrder(order, total, userUid) {\r\n    this.orderService\r\n      .addUserOrder(order, total, userUid)\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe(\r\n        (response) => {\r\n          this.cartService.clearCart();\r\n          this.checkoutService.resetSteps();\r\n          this.router.navigate(['/order-complete']);\r\n        },\r\n        (error) => {\r\n          this.messageService.addError('Could not submit order, try again.');\r\n        }\r\n      );\r\n  }\r\n\r\n  private submitAnonOrder(order, total) {\r\n    this.orderService\r\n      .addAnonymousOrder(order, total)\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe(\r\n        (response) => {\r\n          this.cartService.clearCart();\r\n          this.checkoutService.resetSteps();\r\n          this.router.navigate(['/order-complete']);\r\n        },\r\n        (error) => {\r\n          this.messageService.addError('Could not submit order, try again.');\r\n        }\r\n      );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n}\r\n","<h4>Review Your Order</h4>\r\n<hr class=\"padding-bottom-1x\">\r\n<div class=\"table-responsive shopping-cart\">\r\n  <table class=\"table\">\r\n    <thead>\r\n      <tr>\r\n        <th>Product Name</th>\r\n        <th class=\"text-center\">Subtotal</th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let item of items; let i = index\">\r\n        <td>\r\n          <div class=\"product-item\">\r\n            <a class=\"product-thumb\" routerLink=\"/products/{{item.product.id}}\">\r\n              <img [src]=\"item.product.imageURLs[0]\" alt=\"{{item.product.name}}\">\r\n            </a>\r\n            <div class=\"product-info\">\r\n              <h4 class=\"product-title\">\r\n                <a routerLink=\"/products/{{item.product.id}}\">{{item.product.name}}\r\n                  <small>x {{item.amount}}</small>\r\n                </a>\r\n              </h4>\r\n            </div>\r\n          </div>\r\n        </td>\r\n        <td class=\"text-center text-lg text-medium\">{{ (item.product.price * item.amount) | currency }}</td>\r\n        <td class=\"text-center\">\r\n          <a class=\"btn btn-outline-primary btn-sm\" routerLink=\"/cart\">Edit</a>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n<div class=\"shopping-cart-footer\">\r\n  <div class=\"column\"></div>\r\n  <div class=\"column text-lg\">Subtotal:\r\n    <span class=\"text-medium\">{{ total | currency }}</span>\r\n  </div>\r\n</div>\r\n<div class=\"row padding-top-1x mt-3\">\r\n  <div class=\"col-sm-6\">\r\n    <h5>Shipping to:</h5>\r\n    <ul class=\"list-unstyled\">\r\n      <li>\r\n        <span class=\"text-muted\">Client:</span>{{customer.firstname}} {{customer.lastname}}</li>\r\n      <li>\r\n        <span class=\"text-muted\">Address:</span>{{customer.address1}} {{customer.address2}}</li>\r\n      <li>\r\n        <span class=\"text-muted\">Phone:</span>{{customer.phone}}</li>\r\n    </ul>\r\n  </div>\r\n  <div class=\"col-sm-6\">\r\n    <h5>Payment method:</h5>\r\n    <ul class=\"list-unstyled\">\r\n      <li>\r\n        <span class=\"text-muted\">{{ paymentMethod }}</span></li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n\r\n<app-checkout-footer [buttons]=\"['back', 'completeOrder']\" (back)=\"onBack()\" (completeOrder)=\"onCompleteOrder()\"></app-checkout-footer>\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { Order } from '../../models/order.model';\r\nimport { Customer } from '../../models/customer.model';\r\nimport { CartItem } from '../../models/cart-item.model';\r\n\r\n@Injectable()\r\nexport class CheckoutService {\r\n  private orderInProgress: Order;\r\n  public orderInProgressChanged: EventEmitter<Order> = new EventEmitter<Order>();\r\n  public stepChanged: EventEmitter<number> = new EventEmitter<number>();\r\n  public activeStep: number;\r\n\r\n  constructor() {\r\n    this.orderInProgress = new Order(new Customer());\r\n    this.activeStep = 0;\r\n  }\r\n\r\n  public gotoStep(number) {\r\n    this.activeStep = number;\r\n    this.stepChanged.emit(this.activeStep);\r\n  }\r\n\r\n  public nextStep() {\r\n    this.activeStep++;\r\n    this.stepChanged.emit(this.activeStep);\r\n  }\r\n\r\n  previousStep() {\r\n    this.activeStep--;\r\n    this.stepChanged.emit(this.activeStep);\r\n  }\r\n\r\n  public resetSteps() {\r\n    this.activeStep = 0;\r\n  }\r\n\r\n  public setCustomer(customer: Customer) {\r\n    this.orderInProgress.customer = customer;\r\n    this.orderInProgressChanged.emit(this.orderInProgress);\r\n  }\r\n\r\n  public setShippingMethod(shippingMethod: string) {\r\n    this.orderInProgress.shippingMethod = shippingMethod;\r\n    this.orderInProgressChanged.emit(this.orderInProgress);\r\n  }\r\n\r\n  public setOrderItems(items: CartItem[]) {\r\n    this.orderInProgress.items = items;\r\n    this.orderInProgressChanged.emit(this.orderInProgress);\r\n  }\r\n\r\n  public getOrderInProgress() {\r\n    return this.orderInProgress;\r\n  }\r\n\r\n  public setPaymentMethod(paymentMethod: string) {\r\n    this.orderInProgress.paymentMethod = paymentMethod;\r\n    this.orderInProgressChanged.emit(this.orderInProgress);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { UntypedFormGroup, UntypedFormControl, Validators } from '@angular/forms';\r\nimport { CheckoutService } from '../shared/checkout.service';\r\nimport { Customer } from '../../models/customer.model';\r\n\r\n@Component({\r\n  selector: 'app-checkout-shipping',\r\n  templateUrl: './shipping.component.html',\r\n  styleUrls: ['./shipping.component.scss']\r\n})\r\nexport class ShippingComponent implements OnInit {\r\n  public formShipping: UntypedFormGroup;\r\n  public shippingMethods: {method: string, time: string, fee: number, value: string}[];\r\n\r\n  constructor(private checkoutService: CheckoutService) { }\r\n\r\n  ngOnInit() {\r\n    this.shippingMethods = [\r\n      {\r\n        method: 'Swiss Post Priority',\r\n        time: '1 - 2 days',\r\n        fee: 11,\r\n        value: 'priority'\r\n      },\r\n      {\r\n        method: 'Swiss Post Economy',\r\n        time: 'up to one week',\r\n        fee: 9,\r\n        value: 'economy'\r\n      }\r\n    ];\r\n    this.formShipping = new UntypedFormGroup({\r\n      'shippingMethod': new UntypedFormControl(this.shippingMethods[1].value, Validators.required)\r\n    });\r\n  }\r\n\r\n  public onBack() {\r\n    this.checkoutService.previousStep();\r\n  }\r\n\r\n  public onContinue() {\r\n    this.checkoutService.setShippingMethod(this.formShipping.controls.shippingMethod.value);\r\n    this.checkoutService.nextStep();\r\n  }\r\n\r\n}\r\n","<h4>Choose Shipping Method</h4>\r\n<hr class=\"padding-bottom-1x\">\r\n<form [formGroup]=\"formShipping\">\r\n  <div class=\"table-responsive\">\r\n    <table class=\"table\">\r\n      <thead class=\"thead-default\">\r\n        <tr>\r\n          <th>Shipping method</th>\r\n          <th>Delivery time</th>\r\n          <th>Handling fee</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let shippingMethod of shippingMethods\">\r\n          <td class=\"align-middle\">\r\n            <span class=\"text-medium\">{{shippingMethod.method}}</span>\r\n          </td>\r\n          <td class=\"align-middle\">{{shippingMethod.time}}</td>\r\n          <td class=\"align-middle\">{{shippingMethod.fee | currency}}</td>\r\n          <td class=\"align-middle\">\r\n            <label class=\"custom-control custom-radio\">\r\n              <input class=\"form-control-radio\" type=\"radio\" name=\"shippingMethod\" value=\"{{shippingMethod.value}}\" formControlName=\"shippingMethod\">\r\n              <span class=\"custom-control-indicator\"></span>\r\n            </label>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</form>\r\n\r\n<app-checkout-footer [buttons]=\"['back', 'continue']\" (back)=\"onBack()\" (continue)=\"onContinue()\" [continueEnabled]=\"formShipping.valid\"></app-checkout-footer>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { CartService } from '../../cart/shared/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-checkout-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  styleUrls: ['./sidebar.component.scss']\r\n})\r\nexport class SidebarComponent implements OnInit {\r\n  public cartSubtotal: number;\r\n  public shipping: number;\r\n  public orderTotal: number;\r\n\r\n  constructor(private cartService: CartService) {}\r\n\r\n  ngOnInit() {\r\n    this.cartSubtotal = this.cartService.getTotal();\r\n    // TODO: shipping, hardcoded for now\r\n    this.shipping = 9;\r\n    this.orderTotal = this.cartSubtotal + this.shipping;\r\n  }\r\n}\r\n","\r\n<aside class=\"sidebar\">\r\n  <div class=\"padding-top-2x hidden-lg-up\"></div>\r\n  <!-- Order Summary Widget-->\r\n  <section class=\"widget widget-order-summary\">\r\n    <h3 class=\"widget-title\">Order Summary</h3>\r\n    <table class=\"table\">\r\n      <tr>\r\n        <td>Cart Subtotal:</td>\r\n        <td class=\"text-medium\">{{cartSubtotal | currency}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td>Shipping:</td>\r\n        <td class=\"text-medium\">{{shipping | currency}}</td>\r\n      </tr>\r\n      <tr>\r\n        <td>Order Total:</td>\r\n        <td class=\"text-lg text-medium\">{{orderTotal | currency}}</td>\r\n      </tr>\r\n    </table>\r\n  </section>\r\n</aside>\r\n\r\n","import { Component } from '@angular/core';\r\n\r\nimport { OffcanvasService } from '../shared/offcanvas.service';\r\n\r\n@Component({\r\n  selector: 'app-content',\r\n  templateUrl: './content.component.html',\r\n  styleUrls: ['./content.component.scss']\r\n})\r\nexport class ContentComponent {\r\n  constructor(private offcanvasService: OffcanvasService) {}\r\n\r\n  onMenuClose(e: Event) {\r\n    this.offcanvasService.closeOffcanvasNavigation();\r\n  }\r\n}\r\n","  <!-- Off-Canvas Wrapper-->\r\n  <div class=\"offcanvas-wrapper\">\r\n    <!-- Page Content-->\r\n    <router-outlet></router-outlet>\r\n    <app-footer></app-footer>\r\n  </div>\r\n\r\n  <!-- Back To Top Button-->\r\n  <a class=\"scroll-to-top-btn\" href=\"#\">\r\n    <i class=\"icon-arrow-up\"></i>\r\n  </a>\r\n\r\n\r\n  <!-- Backdrop-->\r\n  <div class=\"site-backdrop\" (click)=\"onMenuClose($event)\"></div>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.scss']\r\n})\r\nexport class FooterComponent {}\r\n","<!-- Site Footer-->\r\n<footer class=\"site-footer\">\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-3 col-md-6\">\r\n        <!-- Contact Info-->\r\n        <section class=\"widget widget-light-skin\">\r\n          <h3 class=\"widget-title\">Get In Touch With Us</h3>\r\n          <p class=\"text-white\">Phone: +41 79 241 45 44</p>\r\n          <p>\r\n            <a class=\"navi-link-light\" href=\"#\">info@andre-abt.com</a>\r\n          </p>\r\n          <a class=\"social-button shape-circle sb-facebook sb-light-skin\" href=\"#\">\r\n            <i class=\"socicon-facebook\"></i>\r\n          </a>\r\n          <a class=\"social-button shape-circle sb-twitter sb-light-skin\" href=\"#\">\r\n            <i class=\"socicon-twitter\"></i>\r\n          </a>\r\n          <a class=\"social-button shape-circle sb-instagram sb-light-skin\" href=\"#\">\r\n            <i class=\"socicon-instagram\"></i>\r\n          </a>\r\n          <a class=\"social-button shape-circle sb-google-plus sb-light-skin\" href=\"#\">\r\n            <i class=\"socicon-googleplus\"></i>\r\n          </a>\r\n        </section>\r\n      </div>\r\n      <div class=\"col-lg-3 col-md-6\">\r\n        <!-- Mobile App Buttons-->\r\n        <section class=\"widget widget-light-skin\">\r\n          <h3 class=\"widget-title\">Our Mobile App</h3>\r\n          <a class=\"market-button apple-button mb-light-skin\" href=\"#\">\r\n            <span class=\"mb-subtitle\">Download on the</span>\r\n            <span class=\"mb-title\">App Store</span>\r\n          </a>\r\n          <a class=\"market-button google-button mb-light-skin\" href=\"#\">\r\n            <span class=\"mb-subtitle\">Download on the</span>\r\n            <span class=\"mb-title\">Google Play</span>\r\n          </a>\r\n        </section>\r\n      </div>\r\n      <div class=\"col-lg-3 col-md-6\">\r\n        <!-- About Us-->\r\n        <section class=\"widget widget-links widget-light-skin\">\r\n          <h3 class=\"widget-title\">About Us</h3>\r\n          <ul>\r\n            <li>\r\n              <a href=\"#\">About the Shop</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\">Our Story</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\">Services</a>\r\n            </li>\r\n          </ul>\r\n        </section>\r\n      </div>\r\n      <div class=\"col-lg-3 col-md-6\">\r\n        <!-- Account / Shipping Info-->\r\n        <section class=\"widget widget-links widget-light-skin\">\r\n          <h3 class=\"widget-title\">Account &amp; Shipping Info</h3>\r\n          <ul>\r\n            <li>\r\n              <a href=\"#\">Your Account</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\">Shipping Rates & Policies</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\">Refunds & Replacements</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\">Taxes</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\">Delivery Info</a>\r\n            </li>\r\n            <li>\r\n              <a href=\"#\">Affiliate Program</a>\r\n            </li>\r\n          </ul>\r\n        </section>\r\n      </div>\r\n    </div>\r\n    <hr class=\"hr-light mt-2 margin-bottom-2x\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-7 padding-bottom-1x\">\r\n        <!-- Payment Methods-->\r\n        <div class=\"margin-bottom-1x\" style=\"max-width: 615px;\">\r\n          <img src=\"img/payment_methods.png\" alt=\"Payment Methods\">\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-5 padding-bottom-1x\">\r\n      </div>\r\n    </div>\r\n    <!-- Copyright-->\r\n    <p class=\"footer-copyright\">© All rights reserved. Made with &nbsp;\r\n      <i class=\"icon-heart text-danger\"></i>\r\n      <a href=\"http://www.andre-abt.com/\" target=\"_blank\"> &nbsp;by André Abt & Christian Zellweger</a>\r\n    </p>\r\n  </div>\r\n</footer>\r\n","import { NgModule, Optional, SkipSelf } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { NgxSiemaModule } from 'ngx-siema';\r\n\r\nimport { ContentComponent } from './content/content.component';\r\nimport { HeaderComponent } from './header/header.component';\r\nimport { NavigationOffCanvasComponent } from './navigation-off-canvas/navigation-off-canvas.component';\r\nimport { TopBarComponent } from './top-bar/top-bar.component';\r\nimport { FooterComponent } from './content/footer/footer.component';\r\nimport { NavigationMainComponent } from './header/navigation-main/navigation-main.component';\r\nimport { ToolbarCartComponent } from './header/toolbar/cart/cart.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { MainSliderComponent } from './home/main-slider/main-slider.component';\r\nimport { ProductWidgetComponent } from './home/product-widget/product-widget.component';\r\nimport { PromoComponent } from './home/promo/promo.component';\r\nimport { SearchComponent } from './header/search/search.component';\r\n\r\nimport { ProductService } from '../products/shared/product.service';\r\nimport { MessageService } from '../messages/message.service';\r\nimport { CartService } from '../cart/shared/cart.service';\r\nimport { PagerService } from '../pager/pager.service';\r\nimport { OrderService } from '../account/orders/shared/order.service';\r\nimport { CheckoutService } from '../checkout/shared/checkout.service';\r\nimport { AuthService } from '../account/shared/auth.service';\r\nimport { OffcanvasService } from './shared/offcanvas.service';\r\nimport { PromoService } from './shared/promo.service';\r\nimport { UiService } from '../products/shared/ui.service';\r\nimport { ProductsCacheService } from '../products/shared/products-cache.service';\r\n\r\nimport { throwIfAlreadyLoaded } from './module-import-guard';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ContentComponent,\r\n        HeaderComponent,\r\n        NavigationOffCanvasComponent,\r\n        TopBarComponent,\r\n        FooterComponent,\r\n        NavigationMainComponent,\r\n        ToolbarCartComponent,\r\n        HomeComponent,\r\n        MainSliderComponent,\r\n        ProductWidgetComponent,\r\n        PromoComponent,\r\n        SearchComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        SharedModule,\r\n        NgxSiemaModule.forRoot()\r\n    ],\r\n    exports: [\r\n        CommonModule,\r\n        SharedModule,\r\n        NavigationOffCanvasComponent,\r\n        TopBarComponent,\r\n        HeaderComponent,\r\n        ContentComponent\r\n    ],\r\n    providers: [\r\n        ProductService,\r\n        ProductsCacheService,\r\n        MessageService,\r\n        CartService,\r\n        PagerService,\r\n        OrderService,\r\n        CheckoutService,\r\n        AuthService,\r\n        OffcanvasService,\r\n        PromoService,\r\n        UiService\r\n    ]\r\n})\r\nexport class CoreModule {\r\n    constructor(@Optional() @SkipSelf() parentModule: CoreModule) {\r\n        throwIfAlreadyLoaded(parentModule, 'CoreModule');\r\n    }\r\n}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { AuthService } from '../../account/shared/auth.service';\r\nimport { OffcanvasService } from '../shared/offcanvas.service';\r\n\r\nimport { User } from '../../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss']\r\n})\r\nexport class HeaderComponent implements OnInit, OnDestroy {\r\n  private authSubscription: Subscription;\r\n  public user: User;\r\n  public showSearch;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private offcanvasService: OffcanvasService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.authSubscription = this.authService.user.subscribe((user) => {\r\n      this.user = user;\r\n    });\r\n  }\r\n\r\n  public onLogOut(e: Event) {\r\n    this.authService.signOut();\r\n    this.router.navigate(['/register-login']);\r\n    e.preventDefault();\r\n  }\r\n\r\n  public onMenuToggle(e: Event) {\r\n    this.offcanvasService.openOffcanvasNavigation();\r\n    e.preventDefault();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.authSubscription.unsubscribe();\r\n  }\r\n}\r\n","<!-- Navbar-->\r\n<!-- Remove \"navbar-sticky\" class to make navigation bar scrollable with the page.-->\r\n<header class=\"navbar navbar-sticky\">\r\n\r\n  <app-search (onHideSearch)=\"showSearch = false\" [showSearch]=\"showSearch\" class=\"site-search-wrapper\"></app-search>\r\n\r\n  <div class=\"site-branding\">\r\n    <div class=\"inner\">\r\n      <!-- Off-Canvas Toggle (#shop-categories)-->\r\n      <!-- <a class=\"offcanvas-toggle cats-toggle\" href=\"\" data-toggle=\"offcanvas\"></a> -->\r\n      <!-- Off-Canvas Toggle (#mobile-menu)-->\r\n      <a class=\"offcanvas-toggle\" href=\"\" (click)=\"onMenuToggle($event)\"></a>\r\n    </div>\r\n  </div>\r\n\r\n  <app-navigation-main></app-navigation-main>\r\n\r\n  <!-- Toolbar-->\r\n  <div class=\"toolbar\">\r\n    <div class=\"inner\">\r\n      <div class=\"tools\">\r\n        <div class=\"search\">\r\n          <i (click)=\"showSearch = true\" class=\"icon-search\"></i>\r\n        </div>\r\n        <div class=\"account\">\r\n          <a *ngIf=\"!user; else whenLoggedIn\" routerLink=\"/register-login\"></a>\r\n\r\n          <ng-template #whenLoggedIn>\r\n            <a routerLink=\"/account/profile\"></a>\r\n          </ng-template>\r\n\r\n          <i class=\"icon-head\"></i>\r\n          <ul *ngIf=\"user\" class=\"toolbar-dropdown\">\r\n            <li class=\"sub-menu-user\">\r\n              <div class=\"user-info\">\r\n                <h6 class=\"user-name\">{{ user.email }}\r\n                  <span *ngIf=\"user.roles.admin\"> (Admin)</span>\r\n                </h6>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <a routerLink=\"/account/profile\" href=\"\">My Profile</a>\r\n            </li>\r\n            <li>\r\n              <a routerLink=\"/account/orders\" href=\"\">Orders List</a>\r\n            </li>\r\n            <li class=\"sub-menu-separator\"></li>\r\n            <li>\r\n              <a href=\"\" (click)=\"onLogOut($event)\">\r\n                <i class=\"icon-unlock\"></i>Logout</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <app-toolbar-cart></app-toolbar-cart>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</header>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { AuthService } from '../../../account/shared/auth.service';\r\n\r\nimport { User } from '../../../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-navigation-main',\r\n  templateUrl: './navigation-main.component.html',\r\n  styleUrls: ['./navigation-main.component.scss']\r\n})\r\nexport class NavigationMainComponent implements OnInit, OnDestroy {\r\n  public user: User;\r\n  private authSubscription: Subscription;\r\n\r\n  constructor(public authService: AuthService) {}\r\n\r\n  ngOnInit() {\r\n    this.authService.user.subscribe((user) => {\r\n      this.user = user;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.authSubscription.unsubscribe();\r\n  }\r\n}\r\n","<!-- Main Navigation-->\r\n<nav class=\"site-menu\">\r\n    <ul>\r\n        <li routerLinkActive=\"active\">\r\n            <a routerLink=\"/home\" href=\"\">\r\n                <span>Home</span>\r\n            </a>\r\n        </li>\r\n        <li routerLinkActive=\"active\">\r\n            <a routerLink=\"/products\" href=\"\">\r\n                <span>Products</span>\r\n            </a>\r\n        </li>\r\n        <li routerLinkActive=\"active\">\r\n            <a routerLink=\"/cart\" href=\"\">\r\n                <span>Cart</span>\r\n            </a>\r\n        </li>\r\n        <li *ngIf=\"user && user.roles.admin\" routerLinkActive=\"active\">\r\n            <a routerLink=\"/admin/add\" href=\"\">\r\n                <span>Add Product</span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n</nav>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  OnChanges,\r\n  EventEmitter,\r\n  Output\r\n} from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime ,  distinctUntilChanged ,  filter ,  switchMap } from 'rxjs/operators';\r\n\r\nimport { ProductService } from '../../../products/shared/product.service';\r\n\r\n@Component({\r\n  selector: 'app-search',\r\n  templateUrl: './search.component.html',\r\n  styleUrls: ['./search.component.scss']\r\n})\r\nexport class SearchComponent implements OnInit {\r\n  products: any[];\r\n  term$ = new Subject<string>();\r\n  @Input() showSearch: boolean;\r\n  @Output() onHideSearch = new EventEmitter<boolean>();\r\n\r\n  constructor(private productService: ProductService) {}\r\n\r\n  ngOnInit() {\r\n    this.term$\r\n      .pipe(\r\n        debounceTime(400),\r\n        distinctUntilChanged(),\r\n        filter((term) => term.length > 0),\r\n        switchMap((term) => this.search(term))\r\n      )\r\n      .subscribe((results) => {\r\n        this.products = results;\r\n      });\r\n  }\r\n\r\n  public search(term: string) {\r\n    return this.productService.findProducts(term);\r\n  }\r\n\r\n  public onSearchInput(event) {\r\n    let term = event.target.value;\r\n    if (term.length > 0) {\r\n      term = term.charAt(0).toUpperCase() + term.slice(1);\r\n      this.term$.next(term);\r\n    } else {\r\n      this.products = [];\r\n      this.term$.next('');\r\n    }\r\n  }\r\n\r\n  public onCloseSearch() {\r\n    this.showSearch = false;\r\n    this.onHideSearch.emit(false);\r\n  }\r\n}\r\n","<div class=\"site-search\" [ngClass]=\"{'search-visible' : showSearch}\">\r\n  <input type=\"text\" (input)=\"onSearchInput($event)\" placeholder=\"Type to search...\">\r\n  <div class=\"search-tools\">\r\n    <span class=\"close-search\">\r\n      <i class=\"icon-cross\" (click)=\"onCloseSearch()\"></i>\r\n    </span>\r\n  </div>\r\n  <div class=\"search-results\">\r\n    <ul *ngIf=\"products && products.length > 0\">\r\n      <li *ngFor=\"let product of products\">\r\n        <a routerLink=\"/products/{{product.id}}\" (click)=\"onCloseSearch()\">{{product.name}}</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { CartService } from '../../../../cart/shared/cart.service';\r\n\r\nimport { CartItem } from '../../../../models/cart-item.model';\r\n\r\n@Component({\r\n  selector: 'app-toolbar-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.scss']\r\n})\r\nexport class ToolbarCartComponent implements OnInit, OnDestroy {\r\n  public items: CartItem[];\r\n  public total: number;\r\n  private cartSubscription: Subscription;\r\n\r\n  constructor(private cartService: CartService) {}\r\n\r\n  ngOnInit() {\r\n    this.items = this.cartService.getItems();\r\n    this.total = this.cartService.getTotal();\r\n    this.cartSubscription = this.cartService.itemsChanged.subscribe(\r\n      (items: CartItem[]) => {\r\n        this.items = items;\r\n        this.total = this.cartService.getTotal();\r\n      }\r\n    );\r\n  }\r\n\r\n  public onRemoveItem(event, item: CartItem) {\r\n    event.stopPropagation();\r\n    this.cartService.removeItem(item);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.cartSubscription.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"cart\">\r\n  <a routerLink=\"/cart\"></a>\r\n  <i class=\"icon-bag\"></i>\r\n  <span class=\"count\">{{items.length}}</span>\r\n  <span class=\"subtotal\">{{ total | currency }}</span>\r\n  <div class=\"toolbar-dropdown\">\r\n    <div *ngIf=\"items.length; else noItemsInCart\">\r\n      <div *ngFor=\"let item of items\" class=\"dropdown-product-item\">\r\n        <span class=\"dropdown-product-remove\" (click)=\"onRemoveItem($event, item)\">\r\n          <i class=\"icon-cross\"></i>\r\n        </span>\r\n        <a class=\"dropdown-product-thumb\" [routerLink]=\"['/products', item.product.id]\">\r\n          <img [src]=\"item.product.imageURLs[0]\" alt=\"{{item.product.name}}\">\r\n        </a>\r\n        <div class=\"dropdown-product-info\">\r\n          <a class=\"dropdown-product-title\" [routerLink]=\"['/products', item.product.id]\">{{item.product.name}}</a>\r\n          <span class=\"dropdown-product-details\">{{item.amount}} x <span><app-price [product]=\"item.product\"></app-price></span></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ng-template #noItemsInCart>\r\n      <div><p>\r\n        There are no items in your cart..\r\n      </p></div>\r\n    </ng-template>\r\n    <div class=\"toolbar-dropdown-group\">\r\n      <div class=\"column\">\r\n        <span class=\"text-lg\">Total:</span>\r\n      </div>\r\n      <div class=\"column text-right\">\r\n        <span class=\"text-lg text-medium\" [innerHTML]=\"total | currency\">&nbsp;</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"toolbar-dropdown-group\">\r\n      <div class=\"column\">\r\n        <a class=\"btn btn-sm btn-block btn-secondary\" routerLink=\"/cart\">View Cart</a>\r\n      </div>\r\n      <div class=\"column\">\r\n        <a class=\"btn btn-sm btn-block btn-success\" routerLink=\"/checkout\">Checkout</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { MessageService } from '../../messages/message.service';\r\nimport { ProductService } from '../../products/shared/product.service';\r\nimport { ProductsCacheService } from '../../products/shared/products-cache.service';\r\nimport { PromoService } from '../shared/promo.service';\r\n\r\nimport { Product } from '../../models/product.model';\r\nimport { Promo } from '../../models/promo.model';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit, OnDestroy {\r\n  private unsubscribe$ = new Subject();\r\n  public products: Product[];\r\n  public productsFeatured: any;\r\n  public productsNewArrivals: Product[];\r\n  public productsOnSale: Product[];\r\n  public productsBestRated: Product[];\r\n  public promos: Promo[];\r\n\r\n  constructor(\r\n    private messageService: MessageService,\r\n    private productsCache: ProductsCacheService,\r\n    private productService: ProductService,\r\n    private promoService: PromoService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.productService\r\n      .getProducts()\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((products) => {\r\n        this.products = <Product[]>products;\r\n      });\r\n\r\n    this.productService\r\n      .getFeaturedProducts()\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe(\r\n        (products) => {\r\n          this.productsFeatured = products;\r\n        },\r\n        (err) => console.error(err)\r\n      );\r\n\r\n    this.productService\r\n      .getProductsByDate(3)\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe(\r\n        (products) => {\r\n          this.productsNewArrivals = products;\r\n        },\r\n        (err) => console.error(err)\r\n      );\r\n\r\n    this.productService\r\n      .getProductsByRating(3)\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe(\r\n        (products) => {\r\n          this.productsBestRated = products;\r\n        },\r\n        (err) => console.error(err)\r\n      );\r\n\r\n    this.productService\r\n      .getProductsQuery('sale', true, 3)\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe(\r\n        (products) => {\r\n          this.productsOnSale = products;\r\n        },\r\n        (err) => console.error(err)\r\n      );\r\n\r\n    this.promoService\r\n      .getPromos()\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((promos) => {\r\n        this.promos = promos;\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n}\r\n","<app-main-slider [items]=\"productsFeatured\"></app-main-slider>\r\n\r\n    <!-- Product Widgets-->\r\n    <section class=\"container padding-bottom-2x padding-top-3x\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-4 col-sm-6\">\r\n                <app-product-widget [widgetTitle]=\"'New Arrivals'\" [products]=\"productsNewArrivals\"></app-product-widget>\r\n            </div>\r\n            <div class=\"col-md-4 col-sm-6\">\r\n                <app-product-widget [widgetTitle]=\"'On Sale'\" [products]=\"productsOnSale\"></app-product-widget>\r\n            </div>\r\n            <div class=\"col-md-4 col-sm-6\">\r\n                <app-product-widget [widgetTitle]=\"'Best Rated'\" [products]=\"productsBestRated\"></app-product-widget>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <app-promo *ngIf=\"promos\" [promo]=\"promos[0]\"></app-promo>\r\n\r\n    <!-- Services-->\r\n    <section class=\"container padding-top-3x padding-bottom-2x\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-3 col-sm-6 text-center mb-30\">\r\n                <img class=\"d-block w-90 img-thumbnail rounded-circle mx-auto mb-3\" src=\"img/services/01.png\" alt=\"Shipping\">\r\n                <h6>Free Worldwide Shipping</h6>\r\n                <p class=\"text-muted margin-bottom-none\">Free shipping for all orders over $100</p>\r\n            </div>\r\n            <div class=\"col-md-3 col-sm-6 text-center mb-30\">\r\n                <img class=\"d-block w-90 img-thumbnail rounded-circle mx-auto mb-3\" src=\"img/services/02.png\" alt=\"Money Back\">\r\n                <h6>Money Back Guarantee</h6>\r\n                <p class=\"text-muted margin-bottom-none\">We return money within 30 days</p>\r\n            </div>\r\n            <div class=\"col-md-3 col-sm-6 text-center mb-30\">\r\n                <img class=\"d-block w-90 img-thumbnail rounded-circle mx-auto mb-3\" src=\"img/services/03.png\" alt=\"Support\">\r\n                <h6>24/7 Customer Support</h6>\r\n                <p class=\"text-muted margin-bottom-none\">Friendly 24/7 customer support</p>\r\n            </div>\r\n            <div class=\"col-md-3 col-sm-6 text-center mb-30\">\r\n                <img class=\"d-block w-90 img-thumbnail rounded-circle mx-auto mb-3\" src=\"img/services/04.png\" alt=\"Payment\">\r\n                <h6>Secure Online Payment</h6>\r\n                <p class=\"text-muted margin-bottom-none\">We posess SSL / Secure Certificate</p>\r\n            </div>\r\n        </div>\r\n    </section>\r\n","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\r\nimport { NgxSiemaOptions, NgxSiemaService } from 'ngx-siema';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-main-slider',\r\n  templateUrl: './main-slider.component.html',\r\n  styleUrls: ['./main-slider.component.scss']\r\n})\r\nexport class MainSliderComponent implements OnInit, OnDestroy {\r\n  private unsubscribe$ = new Subject();\r\n  @Input() public items: any[];\r\n  public currentSlide: number;\r\n  public imagesLoaded: string[];\r\n\r\n  public options: NgxSiemaOptions = {\r\n    selector: '.siema',\r\n    duration: 200,\r\n    easing: 'ease-out',\r\n    perPage: 1,\r\n    startIndex: 0,\r\n    draggable: true,\r\n    threshold: 20,\r\n    loop: false,\r\n    onInit: () => {\r\n      // runs immediately after first initialization\r\n    },\r\n    onChange: () => {\r\n      // runs after slide change\r\n    }\r\n  };\r\n\r\n  constructor(private ngxSiemaService: NgxSiemaService) {}\r\n\r\n  ngOnInit() {\r\n    this.currentSlide = 0;\r\n    this.imagesLoaded = [];\r\n  }\r\n\r\n  public prev() {\r\n    if (this.currentSlide > 0) {\r\n      this.ngxSiemaService\r\n        .prev(1)\r\n        .pipe(takeUntil(this.unsubscribe$))\r\n        .subscribe((data: any) => {\r\n          this.currentSlide = data.currentSlide;\r\n        });\r\n    }\r\n  }\r\n\r\n  public next() {\r\n    if (this.currentSlide < this.items.length - 1) {\r\n      this.ngxSiemaService\r\n        .next(1)\r\n        .pipe(takeUntil(this.unsubscribe$))\r\n        .subscribe((data: any) => {\r\n          this.currentSlide = data.currentSlide;\r\n        });\r\n    }\r\n  }\r\n\r\n  public goTo(index: number) {\r\n    this.ngxSiemaService\r\n      .goTo(index)\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((data: any) => {\r\n        this.currentSlide = data.currentSlide;\r\n      });\r\n  }\r\n\r\n  public onImageLoad(e: any) {\r\n    this.imagesLoaded.push(e.target.src);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n}\r\n","<section class=\"hero-slider\" style=\"background-image: url(img/main-bg.jpg);\">\r\n\r\n  <ngx-siema *ngIf=\"items && items.length > 0\" [options]=\"options\" class=\"large-controls dots-inside\">\r\n\r\n    <ngx-siema-slide *ngFor=\"let item of items\">\r\n      <div class=\"container padding-top-3x\">\r\n        <div class=\"row justify-content-center align-items-center\">\r\n          <div class=\"col-lg-5 col-md-6 padding-bottom-2x text-md-left text-center\">\r\n            <div class=\"from-bottom\">\r\n              <div class=\"h2 text-body text-normal mb-2 pt-1\">{{ item.name }}</div>\r\n              <div class=\"h2 text-body text-normal mb-4 pb-1\">starting at\r\n                <span class=\"text-bold\"><app-price [product]=\"item\"></app-price></span>\r\n              </div>\r\n            </div>\r\n            <a class=\"btn btn-primary scale-up delay-1\" routerLink=\"/products/{{ item.id }}\">Shop now</a>\r\n          </div>\r\n          <div class=\"col-md-6 padding-bottom-2x mb-3\">\r\n            <div class=\"image-wrapper\" [ngClass]=\"{'loading': !imagesLoaded.includes(item.imageFeaturedurl)}\">\r\n              <img [hidden]=\"!imagesLoaded.includes(item.imageFeaturedurl)\" class=\"d-block mx-auto\" src=\"{{ item.imageFeaturedUrl }}\" alt=\"{{ item.name }}\" (load)=\"onImageLoad($event)\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ngx-siema-slide>\r\n  </ngx-siema>\r\n\r\n  <button type=\"button\" class=\"hero-slider-prev\" (click)=\"prev()\"></button>\r\n  <button type=\"button\" class=\"hero-slider-next\" (click)=\"next()\"></button>\r\n\r\n  <div class=\"hero-slider-dots\">\r\n    <div *ngFor=\"let item of items; let i = index\" class=\"hero-slider-dot\" (click)=\"goTo(i)\" [ngClass]=\"{active: currentSlide === i}\">\r\n      <span></span>\r\n    </div>\r\n  </div>\r\n\r\n</section>\r\n","import { Component, Input } from '@angular/core';\r\n\r\nimport { Product } from '../../../models/product.model';\r\n\r\n@Component({\r\n  selector: 'app-product-widget',\r\n  templateUrl: './product-widget.component.html',\r\n  styleUrls: ['./product-widget.component.scss']\r\n})\r\nexport class ProductWidgetComponent {\r\n  @Input() public products: Product[];\r\n  @Input() public widgetTitle: string;\r\n}\r\n","<div *ngIf=\"products\" class=\"widget widget-featured-products\">\r\n  <h3 class=\"widget-title\">{{ widgetTitle }}</h3>\r\n\r\n  <div *ngFor=\"let product of products\" class=\"entry\">\r\n    <div class=\"entry-thumb\">\r\n      <a routerLink=\"/products/{{ product.id }}\">\r\n        <img src=\"{{ product.imageURLs[0] }}\" alt=\"{{ product.name }}\">\r\n      </a>\r\n    </div>\r\n    <div class=\"entry-content\">\r\n      <h4 class=\"entry-title\">\r\n        <a routerLink=\"/products/{{ product.id }}\">{{ product.name}}</a>\r\n      </h4>\r\n      <span class=\"entry-meta\"><app-price [product]=\"product\"></app-price></span>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, Input } from '@angular/core';\r\nimport { Promo } from '../../../models/promo.model';\r\n\r\n@Component({\r\n  selector: 'app-promo',\r\n  templateUrl: './promo.component.html',\r\n  styleUrls: ['./promo.component.scss']\r\n})\r\nexport class PromoComponent {\r\n  @Input() public promo: Promo;\r\n}\r\n","<section class=\"container-fluid\" *ngIf=\"promo\">\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"col-xl-10 col-lg-12\">\r\n      <div class=\"fw-section rounded padding-top-4x padding-bottom-4x\" [ngStyle]=\"{'background-image': 'url(' + promo.imageUrl + ')'}\">\r\n        <span class=\"overlay rounded\" style=\"opacity: .35;\"></span>\r\n        <div class=\"text-center\">\r\n          <h3 class=\"display-4 text-normal text-white text-shadow mb-1\">{{ promo.preHeading }}</h3>\r\n          <h2 class=\"display-2 text-bold text-white text-shadow\">{{ promo.heading }}</h2>\r\n          <h4 class=\"d-inline-block h2 text-normal text-white text-shadow border-default border-left-0 border-right-0 mb-4\">{{ promo.afterHeading }}</h4>\r\n          <br>\r\n          <a class=\"btn btn-primary margin-bottom-none\" href=\"{{ promo.link }}\">{{ promo.buttonText }}</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n","export function throwIfAlreadyLoaded(parentModule: any, moduleName: string) {\r\n  if (parentModule) {\r\n    throw new Error(`${moduleName} has already been loaded. Import Core modules in the AppModule only.`);\r\n  }\r\n}\r\n","<!-- Off-Canvas Category Menu-->\r\n<!-- <div class=\"offcanvas-container\" id=\"shop-categories\">\r\n  <div class=\"offcanvas-header\">\r\n    <h3 class=\"offcanvas-title\">Shop Categories</h3>\r\n  </div>\r\n  <nav class=\"offcanvas-menu\">\r\n    <ul class=\"menu\">\r\n      <li class=\"has-children\">\r\n        <span>\r\n          <a href=\"#\">Men's Shoes</a>\r\n          <span class=\"sub-menu-toggle\"></span>\r\n        </span>\r\n        <ul class=\"offcanvas-submenu\">\r\n          <li>\r\n            <a href=\"#\">Sneakers</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Loafers</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Boat Shoes</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Sandals</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">View All</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li class=\"has-children\">\r\n        <span>\r\n          <a href=\"#\">Women's Shoes</a>\r\n          <span class=\"sub-menu-toggle\"></span>\r\n        </span>\r\n        <ul class=\"offcanvas-submenu\">\r\n          <li>\r\n            <a href=\"#\">Sandals</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Flats</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Sneakers</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Heels</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">View All</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li class=\"has-children\">\r\n        <span>\r\n          <a href=\"#\">Men's Clothing</a>\r\n          <span class=\"sub-menu-toggle\"></span>\r\n        </span>\r\n        <ul class=\"offcanvas-submenu\">\r\n          <li>\r\n            <a href=\"#\">Shirts &amp; Tops</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Pants</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Jackets</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">View All</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li class=\"has-children\">\r\n        <span>\r\n          <a href=\"#\">Women's Clothing</a>\r\n          <span class=\"sub-menu-toggle\"></span>\r\n        </span>\r\n        <ul class=\"offcanvas-submenu\">\r\n          <li>\r\n            <a href=\"#\">Dresses</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Shirts &amp; Tops</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Shorts</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Swimwear</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">View All</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li class=\"has-children\">\r\n        <span>\r\n          <a href=\"#\">Kid's Shoes</a>\r\n          <span class=\"sub-menu-toggle\"></span>\r\n        </span>\r\n        <ul class=\"offcanvas-submenu\">\r\n          <li>\r\n            <a href=\"#\">Boots</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Sandals</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Crib Shoes</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Loafers</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">View All</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li class=\"has-children\">\r\n        <span>\r\n          <a href=\"#\">Bags</a>\r\n          <span class=\"sub-menu-toggle\"></span>\r\n        </span>\r\n        <ul class=\"offcanvas-submenu\">\r\n          <li>\r\n            <a href=\"#\">Handbags</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Backpacks</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Luggage</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Wallets</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">View All</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li class=\"has-children\">\r\n        <span>\r\n          <a href=\"#\">Accessories</a>\r\n          <span class=\"sub-menu-toggle\"></span>\r\n        </span>\r\n        <ul class=\"offcanvas-submenu\">\r\n          <li>\r\n            <a href=\"#\">Sunglasses</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Hats</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Watches</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Jewelry</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">Belts</a>\r\n          </li>\r\n          <li>\r\n            <a href=\"#\">View All</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</div> -->\r\n\r\n<!-- Off-Canvas Mobile Menu-->\r\n<div class=\"offcanvas-container\" id=\"mobile-menu\" [ngClass]=\"{'active': offcanvasService.offcanvasNavigationOpen | async}\">\r\n  <a *ngIf=\"user\" class=\"account-link\" routerLink=\"/account/profile\" (click)=\"onNavigationClick()\">\r\n    <!-- <div class=\"user-ava\">\r\n      <img src=\"img/user-ava-md.jpg\" alt=\"Daniel Adams\">\r\n    </div> -->\r\n    <div class=\"user-info\">\r\n      <span class=\"text-sm text-white opacity-60\">Logged in as:</span>\r\n      <h6 class=\"user-name\">{{ user.email }}<span *ngIf=\"user.roles.admin\"> (Admin)</span></h6>\r\n      <!-- <span class=\"text-sm text-white opacity-60\">290 Reward points</span> -->\r\n    </div>\r\n  </a>\r\n  <nav class=\"offcanvas-menu\">\r\n    <ul class=\"menu\">\r\n      <li *ngIf=\"!user\" routerLinkActive=\"active\">\r\n        <span>\r\n          <a routerLink=\"/register-login\" (click)=\"onNavigationClick()\">\r\n            <span>Register/Login</span>\r\n          </a>\r\n        </span>\r\n      </li>\r\n      <li *ngIf=\"user\" routerLinkActive=\"active\">\r\n        <span>\r\n          <a routerLink=\"/account/profile\" (click)=\"onNavigationClick()\">\r\n            <span>My Profile</span>\r\n          </a>\r\n        </span>\r\n      </li>\r\n      <li *ngIf=\"user\" routerLinkActive=\"active\">\r\n        <span>\r\n          <a routerLink=\"/account/orders\" (click)=\"onNavigationClick()\">\r\n            <span>My Orders</span>\r\n          </a>\r\n        </span>\r\n      </li>\r\n      <li routerLinkActive=\"active\">\r\n        <span>\r\n          <a routerLink=\"/home\" (click)=\"onNavigationClick()\">\r\n            <span>Home</span>\r\n          </a>\r\n        </span>\r\n      </li>\r\n      <li routerLinkActive=\"active\">\r\n        <span>\r\n          <a routerLink=\"/products\" (click)=\"onNavigationClick()\">\r\n            <span>Products</span>\r\n          </a>\r\n        </span>\r\n      </li>\r\n      <li routerLinkActive=\"active\">\r\n        <span>\r\n          <a routerLink=\"/cart\" (click)=\"onNavigationClick()\">\r\n            <span>Cart</span>\r\n          </a>\r\n        </span>\r\n      </li>\r\n      <li *ngIf=\"user && user.roles.admin\" routerLinkActive=\"active\">\r\n        <a routerLink=\"/admin/add\" (click)=\"onNavigationClick()\">\r\n          <span>Add Product</span>\r\n        </a>\r\n      </li>\r\n      <li *ngIf=\"user\">\r\n        <a href=\"\" (click)=\"onLogout($event)\">\r\n          <span>Logout</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { AuthService } from '../../account/shared/auth.service';\r\nimport { OffcanvasService } from '../shared/offcanvas.service';\r\n\r\nimport { User } from '../../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-navigation-off-canvas',\r\n  templateUrl: './navigation-off-canvas.component.html',\r\n  styleUrls: ['./navigation-off-canvas.component.scss']\r\n})\r\nexport class NavigationOffCanvasComponent implements OnInit, OnDestroy {\r\n  private authSubscription: Subscription;\r\n  public user: User;\r\n\r\n  constructor(\r\n    public offcanvasService: OffcanvasService,\r\n    public authService: AuthService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.authSubscription = this.authService.user.subscribe((user) => {\r\n      this.user = user;\r\n    });\r\n  }\r\n\r\n  public onLogout(e: Event) {\r\n    this.offcanvasService.closeOffcanvasNavigation();\r\n    this.authService.signOut();\r\n    this.router.navigate(['/register-login']);\r\n    e.preventDefault();\r\n  }\r\n\r\n  public onNavigationClick() {\r\n    this.offcanvasService.closeOffcanvasNavigation();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.authSubscription.unsubscribe();\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-page-title',\r\n  templateUrl: './page-title.component.html',\r\n  styleUrls: ['./page-title.component.scss']\r\n})\r\nexport class PageTitleComponent {\r\n  @Input() public title: string;\r\n  @Input() public children: {title: string, link: string}[];\r\n}\r\n","<!-- Page Title-->\r\n<div class=\"page-title\">\r\n  <div class=\"container\">\r\n    <div class=\"column\">\r\n      <h1>{{ title }}</h1>\r\n    </div>\r\n    <div class=\"column\">\r\n      <ul class=\"breadcrumbs\">\r\n        <li>\r\n          <a routerLink=\"/home\" href=\"\">Home</a>\r\n        </li>\r\n        <ng-container *ngFor=\"let child of children\">\r\n          <li class=\"separator\">&nbsp;</li>\r\n          <li>\r\n            <a *ngIf=\"child.link; else noLink\" [routerLink]=\"child.link\">{{ child.title }}</a>\r\n            <ng-template #noLink>{{child.title}}</ng-template>\r\n          </li>\r\n        </ng-container>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class OffcanvasService {\r\n  public offcanvasNavigationOpen: BehaviorSubject<boolean> = new BehaviorSubject(false);\r\n\r\n  public toggleOffcanvasNavigation() {\r\n    const state = !this.offcanvasNavigationOpen.getValue();\r\n    this.offcanvasNavigationOpen.next(state);\r\n  }\r\n\r\n  public openOffcanvasNavigation() {\r\n    this.offcanvasNavigationOpen.next(true);\r\n  }\r\n\r\n  public closeOffcanvasNavigation() {\r\n    this.offcanvasNavigationOpen.next(false);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/compat/database';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { Promo } from '../../models/promo.model';\r\n\r\n@Injectable()\r\nexport class PromoService {\r\n  constructor(private angularFireDatabase: AngularFireDatabase) {}\r\n\r\n  getPromos(): Observable<Promo[]> {\r\n    return this.angularFireDatabase.list<Promo>('promos').valueChanges();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-top-bar',\r\n  templateUrl: './top-bar.component.html',\r\n  styleUrls: ['./top-bar.component.scss']\r\n})\r\nexport class TopBarComponent {}\r\n","  <!-- Topbar-->\r\n  <div class=\"topbar\">\r\n    <div class=\"topbar-column\">\r\n      <a class=\"hidden-md-down\" href=\"mailto:info@andre-abt.com\">\r\n        <i class=\"icon-mail\"></i>&nbsp; info@andre-abt.com</a>\r\n      <a class=\"hidden-md-down\" href=\"tel:+41792414544\">\r\n        <i class=\"icon-bell\"></i>&nbsp; +41 79 241 45 44</a>\r\n      <a class=\"social-button sb-facebook shape-none sb-dark\" href=\"#\" target=\"_blank\">\r\n        <i class=\"socicon-facebook\"></i>\r\n      </a>\r\n      <a class=\"social-button sb-twitter shape-none sb-dark\" href=\"#\" target=\"_blank\">\r\n        <i class=\"socicon-twitter\"></i>\r\n      </a>\r\n      <a class=\"social-button sb-instagram shape-none sb-dark\" href=\"#\" target=\"_blank\">\r\n        <i class=\"socicon-instagram\"></i>\r\n      </a>\r\n      <a class=\"social-button sb-pinterest shape-none sb-dark\" href=\"#\" target=\"_blank\">\r\n        <i class=\"socicon-pinterest\"></i>\r\n      </a>\r\n    </div>\r\n  </div>\r\n","import { Injectable } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Injectable()\r\nexport class MessageService {\r\n  private messages: string[] = [];\r\n  private toastrConfig: {} = {\r\n    disableTimeOut: false,\r\n    closeButton: false,\r\n    positionClass: 'toast-bottom-right'\r\n  };\r\n\r\n  constructor(private toastr: ToastrService) {}\r\n\r\n  public add(message: string): void {\r\n    this.messages.push(message);\r\n    this.toastr.success(message, 'Message:', this.toastrConfig);\r\n  }\r\n\r\n  public addError(message: string): void {\r\n    this.toastr.error(message, 'Message:', this.toastrConfig);\r\n  }\r\n\r\n  public clear(): void {\r\n    this.messages = [];\r\n  }\r\n}\r\n","import { Product } from './product.model';\r\n\r\nexport class CartItem {\r\n  constructor(public product: Product, public amount: number) {}\r\n}\r\n","export class Customer {\r\n  constructor(\r\n    public firstname: string = '',\r\n    public lastname: string = '',\r\n    public address1: string = '',\r\n    public address2: string = '',\r\n    public zip: number = null,\r\n    public city: string = '',\r\n    public email: string = '',\r\n    public phone: string = '',\r\n    public company: string = '',\r\n    public country: string = ''\r\n  ) {}\r\n}\r\n","import { CartItem } from './cart-item.model';\r\nimport { Customer } from './customer.model';\r\n\r\nexport class Order {\r\n  constructor(\r\n    public customer: Customer = null,\r\n    public items: CartItem[] = null,\r\n    public total: number = null,\r\n    public status: string = '',\r\n    public number: string = '',\r\n    public date: string = new Date().toISOString().split('T')[0],\r\n    public shippingMethod: string = '',\r\n    public paymentMethod: string = ''\r\n  ) {}\r\n}\r\n","export class Product {\r\n  public imageFeaturedUrl?;\r\n\r\n  constructor(\r\n    public id: number = 1,\r\n    public date: string = new Date().toISOString().split('T')[0],\r\n    public name: string = '',\r\n    public description: string = '',\r\n    public price: number = 0,\r\n    public priceNormal: number = 0,\r\n    public reduction: number = 0,\r\n    public imageURLs: string[] = [],\r\n    public imageRefs: string[] = [],\r\n    public categories: {} = {},\r\n    public ratings: {} = {},\r\n    public currentRating: number = 0,\r\n    public sale: boolean = false\r\n  ) {}\r\n}\r\n","import { Order } from './order.model';\r\n\r\nexport interface Roles {\r\n  admin: boolean;\r\n}\r\n\r\nexport class User {\r\n  public email: string;\r\n  public photoURL?: string;\r\n  public roles?: Roles;\r\n  public firstName?: string;\r\n  public lastName?: string;\r\n  public password?: string;\r\n  public orders?: object;\r\n  public confirmPassword?: string;\r\n  public uid?: string;\r\n\r\n  constructor(authData) {\r\n    this.email = authData.email;\r\n    this.firstName = authData.firstName ? authData.firstName : '';\r\n    this.lastName = authData.lastName ? authData.lastName : '';\r\n    this.roles = {\r\n      admin: false\r\n    };\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-page-not-found',\r\n  templateUrl: './page-not-found.component.html',\r\n  styleUrls: ['./page-not-found.component.scss']\r\n})\r\nexport class PageNotFoundComponent {}\r\n","<div class=\"container padding-top-3x padding-bottom-3x mb-1\">\r\n    <img class=\"d-block m-auto\" src=\"img/404_art.jpg\" style=\"width: 100%; max-width: 550px;\" alt=\"404\">\r\n    <div class=\"padding-top-1x mt-2 text-center\">\r\n        <h3>Page Not Found</h3>\r\n        <p>It seems we can’t find page you are looking for.\r\n            <a routerLink=\"/\">Go back to Homepage</a>\r\n            <br>Or try using search at the top right corner of the page.</p>\r\n    </div>\r\n</div>\r\n","import { Injectable } from \"@angular/core\";\r\n@Injectable()\r\nexport class PagerService {\r\n  public getPager(\r\n    totalItems: number,\r\n    currentPage: number = 1,\r\n    pageSize: number = 10\r\n  ) {\r\n    const totalPages = Math.ceil(totalItems / pageSize);\r\n    let startPage: number, endPage: number;\r\n\r\n    if (totalPages <= 10) {\r\n      // less than 10 total pages so show all\r\n      startPage = 1;\r\n      endPage = totalPages;\r\n    } else {\r\n      // more than 10 total pages so calculate start and end pages\r\n      if (currentPage <= 6) {\r\n        startPage = 1;\r\n        endPage = 10;\r\n      } else if (currentPage + 4 >= totalPages) {\r\n        startPage = totalPages - 9;\r\n        endPage = totalPages;\r\n      } else {\r\n        startPage = currentPage - 5;\r\n        endPage = currentPage + 4;\r\n      }\r\n    }\r\n\r\n    // calculate start and end item indexes\r\n    const startIndex = (currentPage - 1) * pageSize;\r\n    const endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\r\n\r\n    // create an array of pages to ng-repeat in the pager control\r\n    const pages = Array.from(Array(totalPages), (_, i) => 1 + i);\r\n\r\n    // return object with all pager properties required by the view\r\n    return {\r\n      totalItems: totalItems,\r\n      currentPage: currentPage,\r\n      pageSize: pageSize,\r\n      totalPages: totalPages,\r\n      startPage: startPage,\r\n      endPage: endPage,\r\n      startIndex: startIndex,\r\n      endIndex: endIndex,\r\n      pages: pages\r\n    };\r\n  }\r\n}\r\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Params } from '@angular/router';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { AuthService } from '../../account/shared/auth.service';\r\nimport { CartService } from '../../cart/shared/cart.service';\r\nimport { CartItem } from '../../models/cart-item.model';\r\nimport { ProductsCacheService } from '../shared/products-cache.service';\r\nimport { ProductRatingService } from '../shared/product-rating.service';\r\nimport { ProductService } from '../shared/product.service';\r\n\r\nimport { Product } from '../../models/product.model';\r\nimport { User } from '../../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-product-detail',\r\n  templateUrl: './product-detail.component.html',\r\n  styleUrls: ['./product-detail.component.scss']\r\n})\r\nexport class ProductDetailComponent implements OnInit, OnDestroy {\r\n  private unsubscribe$ = new Subject();\r\n  @Input() public product: Product;\r\n  public productLoading: boolean;\r\n\r\n  public user: User;\r\n\r\n  public imagesLoaded: string[];\r\n  public activeImageUrl: string;\r\n  public activeImageIndex: number;\r\n\r\n  public selectedQuantity: number;\r\n\r\n  public ratingCount: number;\r\n  public ratingValues: number[];\r\n  public selectedRating: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private location: Location,\r\n    private authService: AuthService,\r\n    private cartService: CartService,\r\n    private productsCacheService: ProductsCacheService,\r\n    private productService: ProductService,\r\n    private productRatingService: ProductRatingService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.authService.user\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((user) => {\r\n        this.user = user;\r\n      });\r\n\r\n    this.ratingValues = [1, 2, 3, 4, 5];\r\n    this.selectedQuantity = 1;\r\n    this.imagesLoaded = [];\r\n\r\n    this.route.params\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((params: Params) => {\r\n        this.getProduct();\r\n      });\r\n  }\r\n\r\n  private getProduct(): void {\r\n    this.productLoading = true;\r\n\r\n    const id = +this.route.snapshot.paramMap.get('id');\r\n\r\n    this.productService\r\n      .getProduct(id)\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((product: Product) => {\r\n        if (product) {\r\n          this.product = product;\r\n          this.setupProduct();\r\n          this.productLoading = false;\r\n        } else {\r\n          this.router.navigate(['/404-product-not-found']);\r\n        }\r\n      });\r\n  }\r\n\r\n  public onSelectThumbnail(event, index) {\r\n    event.preventDefault();\r\n    this.activeImageUrl = this.product.imageURLs[index];\r\n    this.activeImageIndex = index;\r\n  }\r\n\r\n  public onAddToCart() {\r\n    this.cartService.addItem(new CartItem(this.product, this.selectedQuantity));\r\n  }\r\n\r\n  public onSelectQuantity(event) {\r\n    this.selectedQuantity = <number>+event.target.value;\r\n  }\r\n\r\n  public onRate() {\r\n    const rating = parseInt(this.selectedRating, 10);\r\n    this.productRatingService\r\n      .rateProduct(this.product, rating)\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((response) => {\r\n        this.getProduct();\r\n      });\r\n  }\r\n\r\n  public onImageLoad(e: any) {\r\n    this.imagesLoaded.push(e.target.src);\r\n  }\r\n\r\n  private setupProduct() {\r\n    if (this.product) {\r\n      this.checkCategories();\r\n      this.checkRatings();\r\n      this.activeImageUrl = this.product.imageURLs[0];\r\n      this.activeImageIndex = 0;\r\n    }\r\n  }\r\n\r\n  private checkCategories() {\r\n    const categories = Object.keys(this.product.categories).map(\r\n      (category, index, inputArray) => {\r\n        category = index < inputArray.length - 1 ? category + ',' : category;\r\n        return category;\r\n      }\r\n    );\r\n    this.product.categories =\r\n      categories.length >= 1 && !Array.isArray(this.product.categories)\r\n        ? categories\r\n        : [];\r\n  }\r\n\r\n  private checkRatings() {\r\n    this.ratingCount = this.product.ratings\r\n      ? Object.keys(this.product.ratings).length\r\n      : 0;\r\n\r\n    // check for existing rating\r\n    if (\r\n      this.product.ratings &&\r\n      this.user &&\r\n      Object.keys(this.product.ratings).includes(this.user.uid)\r\n    ) {\r\n      this.selectedRating = this.product.ratings[this.user.uid];\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n}\r\n","<div class=\"product-detail\" [ngClass]=\"{'loading' : productLoading}\">\r\n  <div *ngIf=\"product\">\r\n\r\n    <app-page-title title=\"{{ product.name }}\" [children]=\"[{title: 'Products', link: '/products'}, {title: product.name}]\"></app-page-title>\r\n\r\n\r\n    <!-- Page Content-->\r\n    <div class=\"container padding-bottom-3x mb-1\">\r\n      <div class=\"row\">\r\n        <!-- Poduct Gallery-->\r\n        <div class=\"col-md-6\">\r\n          <div class=\"product-gallery\">\r\n            <span *ngIf=\"product.reduction\" class=\"product-badge text-danger\">{{product.reduction}}% Off</span>\r\n            <div class=\"product-gallery-image\" [ngClass]=\"{'loading': !imagesLoaded.includes(activeImageUrl)}\">\r\n                <img [hidden]=\"!imagesLoaded.includes(activeImageUrl)\" class=\"img-fluid\" src=\"{{activeImageUrl}}\" alt=\"{{product.name}}\" (load)=\"onImageLoad($event)\">\r\n            </div>\r\n            <ul class=\"product-thumbnails\">\r\n              <li *ngFor=\"let image of product.imageURLs; let i = index\" [ngClass]=\"{'active': i === activeImageIndex}\">\r\n                <a href=\"\" (click)=\"onSelectThumbnail($event, i)\" class=\"product-thumbnail-image\" [ngClass]=\"{'loading': !imagesLoaded.includes(activeImageUrl)}\">\r\n                  <img [hidden]=\"!imagesLoaded.includes(image)\" [src]=\"image\" alt=\"{{product.name}}\" (load)=\"onImageLoad($event)\">\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <!-- Product Info-->\r\n        <div class=\"col-md-6\">\r\n          <div class=\"padding-top-2x mt-2 hidden-md-up\"></div>\r\n          <app-rating-stars [rating]=\"product.currentRating\"></app-rating-stars>\r\n          <span *ngIf=\"product.ratings\" class=\"text-muted align-middle\">{{ ratingCount }} customer reviews</span>\r\n          <h2 class=\"padding-top-1x text-normal\">{{ product.name }}</h2>\r\n          <span class=\"h2 d-block\">\r\n            <app-price [product]=\"product\"></app-price>\r\n          </span>\r\n          <p>{{product.description}}</p>\r\n          <div class=\"row margin-top-1x\">\r\n            <!-- <div class=\"col-sm-4\">\r\n              <div class=\"form-group\">\r\n                <label for=\"size\">Men's size</label>\r\n                <select class=\"form-control\" id=\"size\">\r\n                  <option>Chooze size</option>\r\n                  <option>11.5</option>\r\n                  <option>11</option>\r\n                  <option>10.5</option>\r\n                  <option>10</option>\r\n                  <option>9.5</option>\r\n                  <option>9</option>\r\n                  <option>8.5</option>\r\n                </select>\r\n              </div>\r\n            </div> -->\r\n            <!-- <div class=\"col-sm-5\">\r\n              <div class=\"form-group\">\r\n                <label for=\"color\">Choose color</label>\r\n                <select class=\"form-control\" id=\"color\">\r\n                  <option>White/Red/Blue</option>\r\n                  <option>Black/Orange/Green</option>\r\n                  <option>Gray/Purple/White</option>\r\n                </select>\r\n              </div>\r\n            </div> -->\r\n            <div class=\"col-sm-3\">\r\n              <div class=\"form-group\">\r\n                <label for=\"quantity\">Quantity</label>\r\n                <select class=\"form-control\" id=\"quantity\" (change)=\"onSelectQuantity($event)\">\r\n                  <option value=\"1\">1</option>\r\n                  <option value=\"2\">2</option>\r\n                  <option value=\"3\">3</option>\r\n                  <option value=\"4\">4</option>\r\n                  <option value=\"5\">5</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"pt-1 mb-2\">\r\n            <span class=\"text-medium\">SKU:</span> {{ product.id }}\r\n          </div>\r\n          <div class=\"padding-bottom-1x mb-2\">\r\n            <span *ngIf=\"product.categories\" class=\"text-medium\">Categories:&nbsp;</span>\r\n            <a *ngFor=\"let category of product.categories\" class=\"navi-link\" href=\"#\">{{ category }}{{' '}}</a>\r\n          </div>\r\n          <div class=\"form-group\" *ngIf=\"user\">\r\n            <label for=\"review_rating\">Your Rating</label>\r\n              <select class=\"form-control form-control-rounded\" name=\"rating\" [(ngModel)]=\"selectedRating\" (change)=\"onRate()\">\r\n                <option *ngFor=\"let value of ratingValues\" [value]=\"value\">{{ value }} Stars</option>\r\n              </select>\r\n          </div>\r\n          <hr class=\"mb-3\">\r\n          <div class=\"d-flex flex-wrap justify-content-between\">\r\n            <div class=\"entry-share mt-2 mb-2\">\r\n              <span class=\"text-muted\">Share:</span>\r\n              <div class=\"share-links\">\r\n                <a class=\"social-button shape-circle sb-facebook\" href=\"#\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Facebook\">\r\n                  <i class=\"socicon-facebook\"></i>\r\n                </a>\r\n                <a class=\"social-button shape-circle sb-twitter\" href=\"#\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Twitter\">\r\n                  <i class=\"socicon-twitter\"></i>\r\n                </a>\r\n                <a class=\"social-button shape-circle sb-instagram\" href=\"#\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Instagram\">\r\n                  <i class=\"socicon-instagram\"></i>\r\n                </a>\r\n                <a class=\"social-button shape-circle sb-google-plus\" href=\"#\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Google +\">\r\n                  <i class=\"socicon-googleplus\"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class=\"sp-buttons mt-2 mb-2\">\r\n              <!-- <button class=\"btn btn-outline-secondary btn-sm btn-wishlist\" data-toggle=\"tooltip\" title=\"Whishlist\">\r\n                <i class=\"icon-heart\"></i>\r\n              </button> -->\r\n              <button class=\"btn btn-primary\" (click)=\"onAddToCart()\">\r\n                <i class=\"icon-bag\"></i> Add to Cart\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { AuthService } from '../../account/shared/auth.service';\r\nimport { CartService } from '../../cart/shared/cart.service';\r\n\r\nimport { CartItem } from '../../models/cart-item.model';\r\nimport { Product } from '../../models/product.model';\r\nimport { User } from '../../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-products-list-item',\r\n  templateUrl: './products-list-item.component.html',\r\n  styleUrls: ['./products-list-item.component.scss']\r\n})\r\nexport class ProductsListItemComponent implements OnInit, OnDestroy {\r\n  private userSubscription: Subscription;\r\n  @Input() public product: Product;\r\n  @Input() public displayMode: string;\r\n  public user: User;\r\n  public imageLoading: boolean;\r\n\r\n  constructor(\r\n    private cartService: CartService,\r\n    private authService: AuthService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.imageLoading = true;\r\n    this.userSubscription = this.authService.user.subscribe((user) => {\r\n      this.user = user;\r\n    });\r\n  }\r\n\r\n  public onAddToCart() {\r\n    this.cartService.addItem(new CartItem(this.product, 1));\r\n  }\r\n\r\n  public onImageLoad() {\r\n    this.imageLoading = false;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.userSubscription.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"product-card\" [ngClass]=\"{'product-list': displayMode === 'list'}\">\r\n\r\n  <div *ngIf=\"product.reduction\" class=\"product-badge text-danger\">{{ product.reduction }}% Off</div>\r\n\r\n  <div class=\"product-rating\">\r\n    <app-rating-stars [rating]=\"product.currentRating\"></app-rating-stars>\r\n  </div>\r\n\r\n  <a class=\"product-thumb\" [ngClass]=\"{'loading': imageLoading}\" routerLink=\"/products/{{product.id}}\">\r\n    <img [hidden]=\"imageLoading\" (load)=\"onImageLoad()\" src=\"{{product.imageURLs[0]}}\" alt=\"{{product.name}}\"/>\r\n  </a>\r\n  <div class=\"product-info\">\r\n    <h3 class=\"product-title\">\r\n      <a routerLink=\"/products/{{product.id}}\">{{product.name}}</a>\r\n    </h3>\r\n    <h4 class=\"product-price\"><app-price [product]=\"product\"></app-price></h4>\r\n    <p *ngIf=\"displayMode === 'list'\" class=\"hidden-xs-down\">{{product.description}}</p>\r\n    <div class=\"product-buttons\">\r\n      <!-- <button class=\"btn btn-outline-secondary btn-sm btn-wishlist\" data-toggle=\"tooltip\" title=\"Whishlist\">\r\n        <i class=\"icon-heart\"></i>\r\n      </button> -->\r\n      <button class=\"btn btn-outline-primary btn-sm\" (click)=\"onAddToCart()\">Add to Cart</button>\r\n\r\n      <button *ngIf=\"user && user.roles.admin\" class=\"btn btn-primary btn-sm\" routerLink=\"/admin/edit/{{product.id}}\">\r\n        Edit\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { AuthService } from '../../account/shared/auth.service';\r\nimport { PagerService } from '../../pager/pager.service';\r\nimport { ProductsCacheService } from '../shared/products-cache.service';\r\nimport { ProductService } from '../shared/product.service';\r\nimport { UiService } from '../shared/ui.service';\r\nimport { SortPipe } from '../shared/sort.pipe';\r\n\r\nimport { Product } from '../../models/product.model';\r\nimport { User } from '../../models/user.model';\r\n\r\n@Component({\r\n  selector: 'app-products',\r\n  templateUrl: './products-list.component.html',\r\n  styleUrls: ['./products-list.component.scss']\r\n})\r\nexport class ProductsListComponent implements OnInit, OnDestroy {\r\n  unsubscribe$ = new Subject();\r\n  products: Product[];\r\n  productsPaged: Product[];\r\n  pager: any = {};\r\n  user: User;\r\n  productsLoading: boolean;\r\n  currentPagingPage: number;\r\n\r\n  constructor(\r\n    private productService: ProductService,\r\n    private productsCacheService: ProductsCacheService,\r\n    private pagerService: PagerService,\r\n    private sortPipe: SortPipe,\r\n    private authService: AuthService,\r\n    public uiService: UiService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.authService.user\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((user) => {\r\n        this.user = user;\r\n      });\r\n    this.uiService.currentPagingPage$\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((page) => {\r\n        this.currentPagingPage = page;\r\n      });\r\n    this.getProducts();\r\n  }\r\n\r\n  getProducts() {\r\n    this.productsLoading = true;\r\n    this.productService\r\n      .getProducts()\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe((products) => {\r\n        this.products = <Product[]>products;\r\n        this.setPage(this.currentPagingPage);\r\n        this.productsLoading = false;\r\n      });\r\n  }\r\n\r\n  onDisplayModeChange(mode: string, e: Event) {\r\n    this.uiService.displayMode$.next(mode);\r\n    e.preventDefault();\r\n  }\r\n\r\n  setPage(page: number) {\r\n    if (page < 1 || page > this.pager.totalPages) {\r\n      return;\r\n    }\r\n    this.pager = this.pagerService.getPager(this.products.length, page, 8);\r\n    this.productsPaged = this.products.slice(\r\n      this.pager.startIndex,\r\n      this.pager.endIndex + 1\r\n    );\r\n    this.uiService.currentPagingPage$.next(page);\r\n  }\r\n\r\n  onSort(sortBy: string) {\r\n    this.sortPipe.transform(\r\n      this.products,\r\n      sortBy.replace(':reverse', ''),\r\n      sortBy.endsWith(':reverse')\r\n    );\r\n    this.uiService.sorting$.next(sortBy);\r\n    this.setPage(1);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n}\r\n","<app-page-title title=\"Products\" [children]=\"[{title: 'Products'}]\"></app-page-title>\r\n\r\n<!-- Page Content-->\r\n<div class=\"container padding-bottom-3x mb-1\">\r\n    <!-- Shop Toolbar-->\r\n    <div class=\"shop-toolbar padding-bottom-1x mb-2\">\r\n        <div class=\"column\">\r\n            <div class=\"shop-sorting\">\r\n                <label for=\"sorting\">Sort by:</label>\r\n                <select class=\"form-control\" id=\"sorting\" #selectSort (change)=\"onSort(selectSort.value)\">\r\n                    <option value=\"date:reverse\" [selected]=\"(uiService.sorting$ | async) === 'date:reverse'\">Newest Articles</option>\r\n                    <option value=\"price\" [selected]=\"(uiService.sorting$ | async) === 'price'\">Low - High Price</option>\r\n                    <option value=\"price:reverse\" [selected]=\"(uiService.sorting$ | async) === 'price:reverse'\">High - Low Price</option>\r\n                    <option value=\"name\" [selected]=\"(uiService.sorting$ | async) === 'name'\">A - Z Order</option>\r\n                    <option value=\"name:reverse\" [selected]=\"(uiService.sorting$ | async) === 'name:reverse'\">Z - A Order</option>\r\n                </select>\r\n                <span class=\"text-muted\">Showing:&nbsp;</span>\r\n                <span>1 - 12 items</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"column\">\r\n            <a *ngIf=\"user && user.roles.admin\" class=\"btn btn-primary mt-0 mr-0 align-top\" routerLink=\"/admin/add\" href=\"\">\r\n                <i class=\"icon-plus\"></i>\r\n                <span> Add Product</span>\r\n            </a>\r\n            <div class=\"shop-view\">\r\n                <a href=\"\" class=\"grid-view\" [ngClass]=\"{active: (uiService.displayMode$ | async) === 'grid'}\" (click)=\"onDisplayModeChange('grid', $event)\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                </a>\r\n                <a href=\"\" class=\"list-view\" [ngClass]=\"{active: (uiService.displayMode$ | async) === 'list'}\" (click)=\"onDisplayModeChange('list', $event)\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"products-list\" [ngClass]=\"{'loading' : productsLoading}\">\r\n        <!-- Products Grid Mode View -->\r\n        <div class=\"row\" *ngIf=\"(uiService.displayMode$ | async) === 'grid'\">\r\n            <app-products-list-item ngClass=\"col-12 col-sm-6 col-md-4 col-lg-3\" *ngFor=\"let product of productsPaged\" [product]=\"product\"\r\n                [displayMode]=\"(uiService.displayMode$ | async)\">\r\n            </app-products-list-item>\r\n        </div>\r\n\r\n        <!-- Products List Mode View-->\r\n        <div class=\"row\" *ngIf=\"(uiService.displayMode$ | async) === 'list'\">\r\n            <app-products-list-item ngClass=\"col-12\" *ngFor=\"let product of products\" [product]=\"product\" [displayMode]=\"(uiService.displayMode$ | async)\">\r\n            </app-products-list-item>\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n    <!-- Pagination-->\r\n    <nav *ngIf=\"pager.pages && pager.pages.length && (uiService.displayMode$ | async) ==='grid'\"class=\"pagination\">\r\n        <div class=\"column text-left hidden-xs-down\">\r\n            <a class=\"btn btn-outline-secondary btn-sm\" [ngClass]=\"{disabled:pager.currentPage === 1}\" (click)=\"setPage(pager.currentPage - 1)\"><i class=\"icon-arrow-left\"></i>&nbsp;Previous\r\n            </a>\r\n        </div>\r\n        <div class=\"column text-center\">\r\n            <ul class=\"pages\">\r\n                <li *ngFor=\"let page of pager.pages\" [ngClass]=\"{active: pager.currentPage === page}\">\r\n                    <a (click)=\"setPage(page)\">{{page}}</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"column text-right hidden-xs-down\">\r\n            <a class=\"btn btn-outline-secondary btn-sm\" [ngClass]=\"{disabled:pager.currentPage === pager.totalPages}\" (click)=\"setPage(pager.currentPage + 1)\">Next&nbsp;\r\n                <i class=\"icon-arrow-right\"></i>\r\n            </a>\r\n        </div>\r\n    </nav>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AngularFireDatabaseModule } from '@angular/fire/compat/database';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\nimport { ProductsListComponent } from './products-list/products-list.component';\r\nimport { ProductDetailComponent } from './product-detail/product-detail.component';\r\nimport { ProductsListItemComponent } from './products-list-item/products-list-item.component';\r\nimport { RatingStarsComponent } from './shared/rating-stars/rating-stars.component';\r\n\r\nimport { FileUploadService } from './shared/file-upload.service';\r\nimport { ProductsCacheService } from './shared/products-cache.service';\r\nimport { ProductRatingService } from './shared/product-rating.service';\r\n\r\nimport { SortPipe } from './shared/sort.pipe';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductDetailComponent,\r\n    ProductsListComponent,\r\n    ProductsListItemComponent,\r\n    SortPipe,\r\n    RatingStarsComponent\r\n  ],\r\n  imports: [SharedModule],\r\n  exports: [\r\n    ProductDetailComponent,\r\n    ProductsListComponent,\r\n    ProductsListItemComponent,\r\n    SortPipe,\r\n    RatingStarsComponent\r\n  ],\r\n  providers: [SortPipe, FileUploadService, ProductsCacheService, ProductRatingService]\r\n})\r\nexport class ProductsModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireStorage, AngularFireUploadTask } from '@angular/fire/compat/storage';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class FileUploadService {\r\n  public task$: AngularFireUploadTask;\r\n\r\n  // Progress monitoring\r\n  public percentage$: Observable<number>;\r\n\r\n  public snapshot: Observable<any>;\r\n\r\n  // Download URL\r\n  public downloadURL: Observable<string>;\r\n\r\n  constructor(public storage: AngularFireStorage) {}\r\n\r\n  public startUpload(data) {\r\n      // The File object\r\n      const file = data.files.item(0);\r\n\r\n      // Client-side validation example\r\n      if (file.type.split('/')[0] !== 'image') {\r\n        console.error('unsupported file type :( ');\r\n        throw new Error('upload failed, unsupported file type');\r\n      }\r\n\r\n      // The storage path\r\n      const path = `product-images/${new Date().getTime()}_${file}`;\r\n\r\n      // The main task\r\n      this.task$ = this.storage.upload(path, file);\r\n\r\n      // the percentage\r\n      this.percentage$ = this.task$.percentageChanges();\r\n\r\n      return this.task$;\r\n  }\r\n\r\n  public deleteFile(files: string[]) {\r\n    if (files) {\r\n      return files.map((filePath) => {\r\n        return this.storage.ref(filePath).delete();\r\n      });\r\n    }\r\n  }\r\n\r\n  // Determines if the upload task is active\r\n  public isActive(snapshot) {\r\n    return (\r\n      snapshot.state === 'running' &&\r\n      snapshot.bytesTransferred < snapshot.totalBytes\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/compat/database';\r\n\r\nimport { Observable ,  from as fromPromise ,  of } from 'rxjs';\r\n\r\nimport { AuthService } from '../../account/shared/auth.service';\r\nimport { MessageService } from '../../messages/message.service';\r\nimport { FileUploadService } from './file-upload.service';\r\n\r\nimport { ProductsUrl } from './productsUrl';\r\nimport { Product } from '../../models/product.model';\r\nimport { User } from '../../models/user.model';\r\n\r\n@Injectable()\r\nexport class ProductRatingService {\r\n  private productsUrl = ProductsUrl.productsUrl;\r\n  private user: User;\r\n\r\n  constructor(\r\n    private messageService: MessageService,\r\n    private angularFireDatabase: AngularFireDatabase,\r\n    public authService: AuthService\r\n  ) {\r\n    this.authService.user.subscribe(user => this.user = user);\r\n  }\r\n\r\n  /** Log a ProductService message with the MessageService */\r\n  private log(message: string) {\r\n    this.messageService.add('ProductService: ' + message);\r\n  }\r\n\r\n  /**\r\n   * Handle Http operation that failed.\r\n   * Let the app continue.\r\n   * @param operation - name of the operation that failed\r\n   * @param result - optional value to return as the observable result\r\n   */\r\n  private handleError<T>(operation = 'operation', result?: T) {\r\n    return (error: any): Observable<T> => {\r\n      console.error(error); // log to console instead\r\n      this.log(`${operation} failed: ${error.message}`);\r\n      // Let the app keep running by returning an empty result.\r\n      return of(result as T);\r\n    };\r\n  }\r\n\r\n  public rateProduct(product: Product, rating: number) {\r\n    const url = `${this.productsUrl}/${product.id}`;\r\n    const updates = this.constructRating(product, rating);\r\n\r\n    return fromPromise(\r\n      this.angularFireDatabase\r\n        .object<Product>(url)\r\n        .update(updates)\r\n        .then(() => this.log(`Rated Product ${product.name} width: ${rating}`))\r\n        .catch((error) => {\r\n          this.handleError<any>(error);\r\n        })\r\n    );\r\n  }\r\n// pure helper functions start here\r\n  private constructRating(product: Product, rating: number) {\r\n    // construct container for update content\r\n    const updates = {};\r\n\r\n    // Add user rating to local version of ratings\r\n    if (product.ratings) {\r\n      product.ratings[this.user.uid] = rating;\r\n    } else {\r\n      product['ratings'] = [];\r\n      product['ratings'][this.user.uid] = rating;\r\n    }\r\n\r\n    // Add user rating\r\n    updates['/ratings/' + this.user.uid + '/'] = rating;\r\n\r\n    // calculate current overall rating\r\n    updates['/currentRating/'] = this.calculateOverallRating(product, rating);\r\n    return updates;\r\n  }\r\n\r\n  private calculateOverallRating(product: Product, rating: number): number {\r\n    // Calculate and add new overall rating\r\n    const currentRating =\r\n      <number>Object.values(product.ratings).reduce(\r\n        (a: number, b: number) => a + b,\r\n        0\r\n      ) / Object.values(product.ratings).length;\r\n\r\n    return currentRating;\r\n  }\r\n}\r\n","\r\nimport {combineLatest as observableCombineLatest,  Observable ,  from as fromPromise ,  of } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { catchError ,  tap, switchMap, map } from 'rxjs/operators';\r\n\r\nimport { AngularFireDatabase } from '@angular/fire/compat/database';\r\nimport { AuthService } from '../../account/shared/auth.service';\r\nimport { FileUploadService } from './file-upload.service';\r\nimport { MessageService } from '../../messages/message.service';\r\nimport { ProductRatingService } from './product-rating.service';\r\n\r\nimport { Product } from '../../models/product.model';\r\nimport { ProductsUrl } from './productsUrl';\r\n\r\n@Injectable()\r\nexport class ProductService {\r\n  private productsUrl = ProductsUrl.productsUrl;\r\n\r\n  constructor(\r\n    private messageService: MessageService,\r\n    private angularFireDatabase: AngularFireDatabase,\r\n    public authService: AuthService,\r\n    private uploadService: FileUploadService,\r\n    private productRatingService: ProductRatingService\r\n  ) {}\r\n\r\n  /** Log a ProductService message with the MessageService */\r\n  private log(message: string) {\r\n    this.messageService.add('ProductService: ' + message);\r\n  }\r\n\r\n  /**\r\n   * Handle Http operation that failed.\r\n   * Let the app continue.\r\n   * @param operation - name of the operation that failed\r\n   * @param result - optional value to return as the observable result\r\n   */\r\n  private handleError<T>(operation = 'operation', result?: T) {\r\n    return (error: any): Observable<T> => {\r\n      console.error(error); // log to console instead\r\n      this.log(`${operation} failed: ${error.message}`);\r\n      // Let the app keep running by returning an empty result.\r\n      return of(result as T);\r\n    };\r\n  }\r\n\r\n  public getProducts(): Observable<Product[]> {\r\n    return this.angularFireDatabase\r\n      .list<Product>('products', (ref) => ref.orderByChild('date'))\r\n      .valueChanges()\r\n      .pipe(map((arr) => arr.reverse()), catchError(this.handleError<Product[]>(`getProducts`)));\r\n  }\r\n\r\n  public getProductsQuery(\r\n    byChild: string,\r\n    equalTo: string | boolean,\r\n    limitToFirst: number\r\n  ): Observable<Product[]> {\r\n    return this.angularFireDatabase\r\n      .list<Product>('products', (ref) =>\r\n        ref\r\n          .orderByChild(byChild)\r\n          .equalTo(equalTo)\r\n          .limitToFirst(limitToFirst)\r\n      )\r\n      .valueChanges()\r\n      .pipe(catchError(this.handleError<Product[]>(`getProductsQuery`)));\r\n  }\r\n\r\n  public findProducts(term): Observable<any> {\r\n    return this.angularFireDatabase\r\n      .list<Product>('products', (ref) =>\r\n        ref\r\n          .orderByChild('name')\r\n          .startAt(term)\r\n          .endAt(term + '\\uf8ff')\r\n      )\r\n      .valueChanges()\r\n      .pipe(catchError(this.handleError<Product[]>(`getProductsQuery`)));\r\n  }\r\n\r\n  public getProductsByDate(limitToLast: number): Observable<Product[]> {\r\n    return this.angularFireDatabase\r\n      .list<Product>('products', (ref) =>\r\n        ref.orderByChild('date').limitToLast(limitToLast)\r\n      )\r\n      .valueChanges()\r\n        .pipe(\r\n          map((arr) => arr.reverse()),\r\n          catchError(this.handleError<Product[]>(`getProductsByDate`))\r\n        );\r\n  }\r\n\r\n  public getProductsByRating(limitToLast: number): Observable<Product[]> {\r\n    return this.angularFireDatabase\r\n      .list<Product>('products', (ref) =>\r\n        ref.orderByChild('currentRating').limitToLast(limitToLast)\r\n      )\r\n      .valueChanges()\r\n      .pipe(map((arr) => arr.reverse()), catchError(this.handleError<Product[]>(`getProductsByRating`)));\r\n  }\r\n\r\n  public getFeaturedProducts(): Observable<any[]> {\r\n    return this.angularFireDatabase\r\n      .list<Product>('featured')\r\n      .snapshotChanges()\r\n      .pipe(\r\n        switchMap(\r\n          (actions) => {\r\n            return observableCombineLatest(\r\n              actions.map((action) => this.getProduct(action.key))\r\n            );\r\n          },\r\n          (actionsFromSource, resolvedProducts) => {\r\n            resolvedProducts.map((product, i) => {\r\n              product['imageFeaturedUrl'] = actionsFromSource[\r\n                i\r\n              ].payload.val().imageFeaturedUrl;\r\n              return product;\r\n            });\r\n            return resolvedProducts;\r\n          }\r\n        ),\r\n        catchError(this.handleError<Product[]>(`getFeaturedProducts`)));\r\n  }\r\n\r\n  public getProduct(id: any): Observable<Product | null> {\r\n    const url = `${this.productsUrl}/${id}`;\r\n    return this.angularFireDatabase\r\n      .object<Product>(url)\r\n      .valueChanges()\r\n      .pipe(\r\n        tap((result) => {\r\n          if (result) {\r\n            return of(result);\r\n          } else {\r\n            this.messageService.addError(`Found no Product with id=${id}`);\r\n            return of(null);\r\n          }\r\n        }),\r\n        catchError(this.handleError<Product>(`getProduct id=${id}`))\r\n      );\r\n  }\r\n\r\n  public updateProduct(data: { product: Product; files: FileList }) {\r\n    const url = `${this.productsUrl}/${data.product.id}`;\r\n\r\n    if (!data.files.length) {\r\n      return this.updateProductWithoutNewImage(data.product, url);\r\n    }\r\n\r\n    const dbOperation = this.uploadService\r\n      .startUpload(data)\r\n      .then(async (task) => {\r\n        const downloadUrl = await task.ref.getDownloadURL()\r\n        data.product.imageURLs[0] = downloadUrl;\r\n        data.product.imageRefs[0] = task.ref.fullPath;\r\n\r\n        return data;\r\n      })\r\n      .then((dataWithImagePath) => {\r\n        return this.angularFireDatabase\r\n          .object<Product>(url)\r\n          .update(data.product);\r\n      })\r\n      .then((response) => {\r\n        this.log(`Updated Product ${data.product.name}`);\r\n        return data.product;\r\n      })\r\n      .catch((error) => {\r\n        this.handleError(error);\r\n        return error;\r\n      });\r\n    return fromPromise(dbOperation);\r\n  }\r\n\r\n  private updateProductWithoutNewImage(product: Product, url: string) {\r\n    const dbOperation = this.angularFireDatabase\r\n      .object<Product>(url)\r\n      .update(product)\r\n      .then((response) => {\r\n        this.log(`Updated Product ${product.name}`);\r\n        return product;\r\n      })\r\n      .catch((error) => {\r\n        this.handleError(error);\r\n        return error;\r\n      });\r\n    return fromPromise(dbOperation);\r\n  }\r\n\r\n  public addProduct(data: { product: Product; files: FileList }) {\r\n    const dbOperation = this.uploadService\r\n      .startUpload(data)\r\n      .then(async (task) => {\r\n        const downloadUrl = await task.ref.getDownloadURL()\r\n        data.product.imageURLs.push(downloadUrl);\r\n        data.product.imageRefs.push(task.ref.fullPath);\r\n\r\n        return this.angularFireDatabase\r\n          .list('products')\r\n          .set(data.product.id.toString(), data.product);\r\n      }, (error) => error)\r\n      .then((response) => {\r\n        this.log(`Added Product ${data.product.name}`);\r\n        return data.product;\r\n      })\r\n      .catch((error) => {\r\n        this.messageService.addError(\r\n          `Add Failed, Product ${data.product.name}`\r\n        );\r\n        this.handleError(error);\r\n        return error;\r\n      });\r\n    return fromPromise(dbOperation);\r\n  }\r\n\r\n  public deleteProduct(product: Product) {\r\n    const url = `${this.productsUrl}/${product.id}`;\r\n\r\n    this.uploadService.deleteFile(product.imageRefs);\r\n\r\n    return this.angularFireDatabase\r\n      .object<Product>(url)\r\n      .remove()\r\n      .then(() => this.log('success deleting' + product.name))\r\n      .catch((error) => {\r\n        this.messageService.addError('Delete failed ' + product.name);\r\n        this.handleError('delete product');\r\n      });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { Observable ,  of } from 'rxjs';\r\nimport { publishReplay ,  refCount ,  switchMap } from 'rxjs/operators';\r\n\r\nimport { Product } from '../../models/product.model';\r\n\r\n@Injectable()\r\nexport class ProductsCacheService {\r\n  private products: Observable<Product[]>;\r\n\r\n  public get(key: string | number, fallback: Observable<Product[]>) {\r\n    if (typeof key === 'string') {\r\n      return this.getProducts(fallback);\r\n    } else {\r\n      return this.getProduct(key, fallback);\r\n    }\r\n  }\r\n\r\n  private getProducts(fallback: Observable<Product[]>): Observable<Product[]> {\r\n    if (!this.products) {\r\n      this.products = fallback.pipe(publishReplay(1), refCount());\r\n    }\r\n    return this.products;\r\n  }\r\n\r\n  private getProduct(key: any, fallback: Observable<Product[]>) {\r\n    return this.getProducts(fallback).pipe(\r\n      switchMap((products) => {\r\n        const selectedProduct = products.find((product) => {\r\n          return product.id === key;\r\n        });\r\n        return of(selectedProduct);\r\n      }),\r\n      publishReplay(1),\r\n      refCount()\r\n    );\r\n  }\r\n\r\n  public clearCache() {\r\n    this.products = null;\r\n  }\r\n}\r\n","export class ProductsUrl {\r\n  static productsUrl = '/products';\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-rating-stars',\r\n  templateUrl: './rating-stars.component.html',\r\n  styleUrls: ['./rating-stars.component.scss']\r\n})\r\nexport class RatingStarsComponent {\r\n  @Input() public rating: number;\r\n}\r\n","<div class=\"rating-stars\">\r\n  <i [ngClass]=\"{'filled': rating > 0}\" class=\"icon-star\"></i>\r\n  <i [ngClass]=\"{'filled': rating > 1}\" class=\"icon-star\"></i>\r\n  <i [ngClass]=\"{'filled': rating > 2}\" class=\"icon-star\"></i>\r\n  <i [ngClass]=\"{'filled': rating > 3}\" class=\"icon-star\"></i>\r\n  <i [ngClass]=\"{'filled': rating > 4}\" class=\"icon-star\"></i>\r\n</div>\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'sort'\r\n})\r\nexport class SortPipe implements PipeTransform {\r\n  transform(array: any[], field: string, reverse?: boolean): any[] {\r\n    if (!array) {\r\n      return;\r\n    }\r\n    array.sort((a: any, b: any) => {\r\n      if (a[field] < b[field]) {\r\n        return -1;\r\n      } else if (a[field] > b[field]) {\r\n        return 1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    });\r\n    if (reverse) {\r\n      return array.reverse();\r\n    }\r\n    return array;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class UiService {\r\n  public sorting$: BehaviorSubject<string>;\r\n  public displayMode$: BehaviorSubject<string>;\r\n  public currentPagingPage$: BehaviorSubject<number>;\r\n\r\n  constructor() {\r\n    this.sorting$ = new BehaviorSubject('date:reverse');\r\n    this.displayMode$ = new BehaviorSubject('grid');\r\n    this.currentPagingPage$ = new BehaviorSubject(1);\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { Product } from '../../models/product.model';\r\n\r\n@Component({\r\n  selector: 'app-price',\r\n  templateUrl: './price.component.html',\r\n  styleUrls: ['./price.component.scss']\r\n})\r\nexport class PriceComponent {\r\n  @Input() public product: Product;\r\n}\r\n","<del *ngIf=\"product.price < product.priceNormal\" class=\"text-muted text-normal\">{{product.priceNormal | currency }}</del>{{product.price | currency }}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AppRoutingModule } from '../app-routing.module';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { PriceComponent } from './price/price.component';\r\nimport { PageTitleComponent } from '../core/page-title/page-title.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        PriceComponent,\r\n        PageTitleComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        AppRoutingModule,\r\n        FormsModule\r\n    ],\r\n    exports: [\r\n        PriceComponent,\r\n        PageTitleComponent,\r\n        CommonModule,\r\n        AppRoutingModule,\r\n        FormsModule\r\n    ]\r\n})\r\nexport class SharedModule {}\r\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  firebase: {\r\n    apiKey: 'AIzaSyCXVTjTuBUXf-UWlpKfKHjomfPezutmPwI',\r\n    authDomain: 'cas-fee-shop.firebaseapp.com',\r\n    databaseURL: 'https://cas-fee-shop.firebaseio.com',\r\n    projectId: 'cas-fee-shop',\r\n    storageBucket: 'cas-fee-shop.appspot.com',\r\n    messagingSenderId: '323643286137'\r\n  }\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"],"names":["UntypedFormControl","UntypedFormGroup","Validators","of","Product","i0","DomainProduct","AddEditComponent","constructor","router","route","productService","fileUploadService","productsCacheService","log","ngOnInit","setProduct","initForm","productForm","name","product","required","id","value","disabled","min","date","categories","description","price","priceNormal","onFormChanges","params","subscribe","snapshot","paramMap","get","mode","getProduct","constructProduct","constructMockProduct","categoriesFromObjectToString","syncProduct","productSubscription","formSubscription","valueChanges","formFieldValues","createId","imageURLs","handleImageURLs","reduction","calculateReduction","sale","checkForSale","onSubmit","productToSubmit","constructProductToSubmit","files","photos","nativeElement","length","addProduct","updateProduct","addError","savedProduct","navigate","error","unsubscribe","response","onDelete","deleteProduct","then","res","categoriesFromStringToObject","randomId","Math","floor","random","Date","getTime","Object","keys","reduce","result","currentProduct","index","inputArray","split","combinedCategories","currentCategory","trim","round","ngOnDestroy","selectors","viewQuery","ctx","AppComponent","offcanvasService","decls","vars","consts","template","NavigationOffCanvasComponent","authService","authSubscription","user","onLogout","e","closeOffcanvasNavigation","signOut","preventDefault","onNavigationClick","Subject","takeUntil","ProductsListComponent","pagerService","sortPipe","uiService","pipe","unsubscribe$","currentPagingPage$","page","currentPagingPage","getProducts","productsLoading","products","setPage","onDisplayModeChange","displayMode$","next","pager","totalPages","getPager","productsPaged","slice","startIndex","endIndex","onSort","sortBy","transform","replace","endsWith","sorting$","complete","$event","combineLatest","observableCombineLatest","from","fromPromise","catchError","tap","switchMap","map","ProductsUrl","ProductService","messageService","angularFireDatabase","uploadService","productRatingService","productsUrl","message","add","handleError","operation","console","list","ref","orderByChild","arr","reverse","getProductsQuery","byChild","equalTo","limitToFirst","findProducts","term","startAt","endAt","getProductsByDate","limitToLast","getProductsByRating","getFeaturedProducts","snapshotChanges","actions","action","key","actionsFromSource","resolvedProducts","i","payload","val","imageFeaturedUrl","url","object","data","updateProductWithoutNewImage","dbOperation","startUpload","task","downloadUrl","getDownloadURL","imageRefs","fullPath","dataWithImagePath","update","catch","push","set","toString","deleteFile","remove","factory"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}